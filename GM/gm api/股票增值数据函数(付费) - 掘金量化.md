---
title: "股票增值数据函数(付费) - 掘金量化"
source: "https://www.myquant.cn/docs2/sdk/python/API%E4%BB%8B%E7%BB%8D/%E8%82%A1%E7%A5%A8%E5%A2%9E%E5%80%BC%E6%95%B0%E6%8D%AE%E5%87%BD%E6%95%B0%EF%BC%88%E4%BB%98%E8%B4%B9%EF%BC%89.html#stk-get-industry-category-%E6%9F%A5%E8%AF%A2%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB"
author:
published:
created: 2025-09-25
description: "掘金量化支持中心，提供量化学习、答疑、指引等大量文档，包括掘金量化快速入门、操作指引、Python SDK内容、C++ SDK内容、C# SDK内容、Matlab SDK内容、基础数据、行情数据、量化数据、常见问题、量化工具等文档"
published_time:
tags:
  - "#股票增值数据 #行业分类 #分红送股 #龙虎榜 #沪深港通"
summary: "本文详细介绍了掘金量化平台Python SDK中的股票增值数据函数，包括行业分类、板块成分、分红送股、复权因子、股东信息、龙虎榜、沪深港通等付费数据查询功能。"
---
# 文章总结
本文详细介绍了掘金量化平台Python SDK中的股票增值数据函数，包括行业分类、板块成分、分红送股、复权因子、股东信息、龙虎榜、沪深港通等付费数据查询功能。
# 标签
#股票增值数据 #行业分类 #分红送股 #龙虎榜 #沪深港通
# 正文内容
## 股票增值数据函数(付费)

python 股票与指数数据 API 包含在 gm3.0.148 版本及以上版本

## stk\_get\_industry\_category - 查询行业分类

查询指定行业来源的行业列表

**函数原型：**

```python
stk_get_industry_category(source='zjh2012', level=1)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| source | str | 行业来源 | N | 'zjh2012' | 'zjh2012'- 证监会行业分类 2012（默认）， 'sw2021'- 申万行业分类 2021, 查看 [行业分类](https://www.myquant.cn/docs2/docs/index.html#%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB) |
| level | int | 行业分级 | N | 1 | 1 - 一级行业（默认），2 - 二级行业，3 - 三级行业 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| industry\_code | str | 行业代码 | 所选行业来源，对应的行业代码 |
| industry\_name | str | 行业名称 | 所选行业来源，对应的行业名称 |

**示例：**

```python
industry_category = stk_get_industry_category(source='sw2021', level=2)
 
        复制成功
```

**输出：**

```python
industry_code industry_name
0          110100           种植业
1          110200            渔业
2          110300           林业Ⅱ
3          110400            饲料
4          110500         农产品加工
..            ...           ...
129        760100          环境治理
130        760200         环保设备Ⅱ
131        770100          个护用品
132        770200           化妆品
133        770300          医疗美容
[134 rows x 2 columns]
 
        复制成功
```

**注意：**

**1.** 证监会行业分类 2012 没有三级行业，若输入 `source='zjh2012', level=3` 则参数无效，返回空 `dataframe`

## stk\_get\_industry\_constituents - 查询行业成分股

查询指定某个行业的成分股

**函数原型：**

```python
stk_get_industry_constituents(industry_code, date="")
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| industry\_code | str | 行业代码 | Y | 无 | 需要查询成分股的行业代码，可通过 [stk\_get\_industry\_category](https://www.myquant.cn/docs2/sdk/python/API%E4%BB%8B%E7%BB%8D/%E8%82%A1%E7%A5%A8%E5%A2%9E%E5%80%BC%E6%95%B0%E6%8D%AE%E5%87%BD%E6%95%B0%EF%BC%88%E4%BB%98%E8%B4%B9%EF%BC%89.html#stk-get-industry-category-%E6%9F%A5%E8%AF%A2%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB) 获取, 查看 [行业分类](https://www.myquant.cn/docs2/docs/index.html#%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB) |
| date | str | 查询日期 | N | "" | 查询行业成分股的指定日期，%Y-%m-%d 格式，默认 `""` 表示最新时间 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| industry\_code | str | 行业代码 | 成分股的行业代码 |
| industry\_name | str | 行业名称 | 成分股的行业名称 |
| symbol | str | 成分股票代码 | exchange.sec\_id |
| sec\_name | str | 成分股名称 | symbol 对应的股票名称 |
| date\_in | str | 纳入日期 | 成分股被纳入指定行业的日期，%Y-%m-%d 格式 |
| date\_out | str | 剔除日期 | 成分股被剔除指定行业的日期，%Y-%m-%d 格式 |

**示例：**

```python
stk_get_industry_constituents(industry_code='A', date='2022-09-05')
 
        复制成功
```

**输出：**

```python
industry_code industry_name       symbol sec_name     date_in date_out
0             04            渔业  SZSE.000798     中水渔业  2012-12-31
1             01            农业  SHSE.600359     新农开发  2012-12-31
2             01            农业  SHSE.600371     万向德农  2012-12-31
3             01            农业  SHSE.600506     香梨股份  2012-12-31
4             02            林业  SZSE.000592     平潭发展  2012-12-31
5             01            农业  SHSE.600598      北大荒  2012-12-31
6             01            农业  SZSE.002041     登海种业  2012-12-31
7             01            农业  SHSE.600540     新赛股份  2012-12-31
8             01            农业  SHSE.600354     敦煌种业  2012-12-31
9             04            渔业  SHSE.600467      好当家  2012-12-31
10            03           畜牧业  SHSE.600975      新五丰  2012-12-31
11            04            渔业  SZSE.200992      中鲁B  2012-12-31
12            01            农业  SHSE.600313     农发种业  2015-07-20
13            04            渔业  SHSE.600097     开创国际  2012-12-31
14            01            农业  SHSE.600108     亚盛集团  2012-12-31
15            03           畜牧业  SHSE.600965     福成股份  2012-12-31
16            05    农、林、牧、渔服务业  SZSE.000711     京蓝科技  2016-12-31
17            05    农、林、牧、渔服务业  SZSE.000713     丰乐种业  2012-12-31
18            03           畜牧业  SZSE.000735      罗牛山  2012-12-31
19            02            林业  SZSE.000663     永安林业  2012-12-31
20            01            农业  SZSE.300189     神农科技  2012-12-31
21            04            渔业  SZSE.002069    ST獐子岛  2012-12-31
22            03           畜牧业  SZSE.002234     民和股份  2012-12-31
23            04            渔业  SZSE.002086     ST东洋  2012-12-31
24            01            农业  SHSE.601118     海南橡胶  2012-12-31
25            03           畜牧业  SZSE.002157     正邦科技  2021-09-30
26            03           畜牧业  SZSE.002299     圣农发展  2012-12-31
27            03           畜牧业  SZSE.002458     益生股份  2012-12-31
28            04            渔业  SZSE.300094     国联水产  2012-12-31
29            03           畜牧业  SZSE.300106     西部牧业  2012-12-31
30            02            林业  SZSE.002679     福建金森  2012-12-31
31            04            渔业  SHSE.600257     大湖股份  2012-12-31
32            01            农业  SZSE.000998     隆平高科  2012-12-31
33            01            农业  SZSE.300087     荃银高科  2012-12-31
34            03           畜牧业  SZSE.300313     ST天山  2019-06-30
35            04            渔业  SZSE.002696     百洋股份  2012-12-31
36            03           畜牧业  SZSE.002505     鹏都农牧  2012-12-31
37            03           畜牧业  SZSE.002714     牧原股份  2014-01-09
38            03           畜牧业  SZSE.002746     仙坛股份  2015-02-02
39            01            农业  SZSE.300511     雪榕生物  2016-04-14
40            01            农业  SZSE.002772     众兴菌业  2015-06-10
41            03           畜牧业  SZSE.300498     温氏股份  2015-10-29
42            03           畜牧业  SZSE.002982     湘佳股份  2020-04-03
43            01            农业  SZSE.300143     盈康生命  2012-12-31
44            03           畜牧业  SZSE.300761     立华股份  2019-01-22
45            03           畜牧业  SHSE.605296     神农集团  2021-04-20
46            03           畜牧业  SHSE.603477     巨星农牧  2020-09-30
47            03           畜牧业  SZSE.140006    牧原优01  2014-01-09
48            03           畜牧业  SZSE.001201     东瑞股份  2020-06-05
49            01            农业  SZSE.300970     华绿生物  2015-07-21
50            01            农业  SZSE.300972     万辰生物  2015-08-18
51            03           畜牧业  SZSE.300967     晓鸣股份  2014-10-30
52            03           畜牧业  SZSE.002124     天邦食品  2021-09-30
53            03           畜牧业  SZSE.002321     ST华英  2012-12-31
54            02            林业  SZSE.002200     ST交投  2012-12-31
55            02            林业  SHSE.600265     ST景谷  2012-12-31

 
        复制成功
```

**注意：**

**1.** 只能指定一个行业代码查询成分股。

## stk\_get\_symbol\_industry - 查询股票的所属行业

查询指定股票所属的行业

**函数原型：**

```python
stk_get_symbol_industry(symbols, source="zjh2012", level=1, date="")
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str or list | 股票代码 | Y | 无 | 多个代码可用 ，使用时参考 [symbol](https://www.myquant.cn/docs2/sdk/python/%E5%8F%98%E9%87%8F%E7%BA%A6%E5%AE%9A.html#symbol-%E4%BB%A3%E7%A0%81%E6%A0%87%E8%AF%86) 采用 str 格式时，多个标的代码必须用英文逗号分割如： `'SHSE.600008,SZSE.000002'` 采用 list 格式时，多个标的代码示例： `['SHSE.600008', 'SZSE.000002']` |
| source | str | 行业来源 | N | 'zjh2012' | 'zjh2012'- 证监会行业分类 2012（默认）， 'sw2021'- 申万行业分类 2021, 查看 [行业分类](https://www.myquant.cn/docs2/docs/index.html#%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB) |
| level | int | 行业分级 | N | 1 | 1 - 一级行业（默认），2 - 二级行业，3 - 三级行业 |
| date | str | 查询日期 | N | "" | 查询行业分类的指定日期，%Y-%m-%d 格式，默认 `""` 表示最新时间 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | exchange.sec\_id |
| sec\_name | str | 股票名称 | symbol 对应的股票名称 |
| industry\_code | str | 行业代码 | 指定行业来源下，symbol 所属的行业代码 |
| industry\_name | str | 行业名称 | 指定行业来源下，symbol 所属的行业名称 |

**示例：**

```python
stk_get_symbol_industry(symbols='SHSE.600000, SZSE.000002', source="zjh2012", level=1, date="")
 
        复制成功
```

**输出：**

```python
symbol sec_name industry_code industry_name
0  SHSE.600000     浦发银行             J           金融业
1  SZSE.000002      万科A             K          房地产业
 
        复制成功
```

**注意：**

**1.** 证监会行业分类 2012 没有三级行业，若输入 `source='zjh2012', level=3` 则参数无效，返回空 `dataframe`

## stk\_get\_sector\_category - 查询板块分类

查询指定类型的板块列表

**函数原型：**

```python
stk_get_sector_category(sector_type)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| sector\_type | str | 板块类型 | Y | 无 | 只能选择一种类型，可选择 1001:市场类 1002:地域类 1003:概念类, 查看 [板块分类](https://www.myquant.cn/docs2/docs/index.html#%E6%9D%BF%E5%9D%97%E5%88%86%E7%B1%BB) |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| sector\_code | str | 板块代码 | 所选板块类型的板块代码 |
| sector\_name | str | 板块名称 | 所选板块类型的板块名称 |

**示例：**

```python
stk_get_sector_category(sector_type='1003')
 
        复制成功
```

**输出：**

```python
sector_code      sector_name
0        007001          军工
1        007003         煤化工
2        007004         新能源
3        007005        节能环保
4        007007         AB股
..          ...         ...
420      007499        存储芯片
421      007500        液冷概念
422      007501         中特估
423      007502        央企改革
424      007503        混合现实
[425 rows x 2 columns]

 
        复制成功
```

## stk\_get\_sector\_constituents - 查询板块成分股

查询指定某个板块的成分股

**函数原型：**

```python
stk_get_sector_constituents(sector_code)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| sector\_code | str | 板块代码 | Y | 无 | 需要查询成分股的板块代码，可通过 [stk\_get\_sector\_category](https://www.myquant.cn/docs2/sdk/python/API%E4%BB%8B%E7%BB%8D/#stk-get-sector-category-%E6%9F%A5%E8%AF%A2%E6%9D%BF%E5%9D%97%E5%88%86%E7%B1%BB) 获取, 查看 [板块分类](https://www.myquant.cn/docs2/docs/index.html#%E6%9D%BF%E5%9D%97%E5%88%86%E7%B1%BB) |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| sector\_code | str | 板块代码 | 查询的板块代码 |
| sector\_name | str | 板块名称 | 查询的板块代码对应的板块名称 |
| symbol | str | 成分股票代码 | exchange.sec\_id |
| sec\_name | str | 成分股票名称 | symbol 对应的股票名称 |

**示例：**

```python
stk_get_sector_constituents(sector_code='007089')
 
        复制成功
```

**输出：**

```python
sector_code sector_name       symbol sec_name
0       007089        央视50  SHSE.600196     复星医药
1       007089        央视50  SZSE.000848     承德露露
2       007089        央视50  SZSE.000049     德赛电池
3       007089        央视50  SHSE.600887     伊利股份
4       007089        央视50  SZSE.300003     乐普医疗
5       007089        央视50  SZSE.300024      机器人
6       007089        央视50  SZSE.002008     大族激光
7       007089        央视50  SZSE.000895     双汇发展
8       007089        央视50  SZSE.002410      广联达
9       007089        央视50  SZSE.300183     东软载波
10      007089        央视50  SHSE.601166     兴业银行
11      007089        央视50  SHSE.600563     法拉电子
12      007089        央视50  SZSE.000423     东阿阿胶
13      007089        央视50  SZSE.300244     迪安诊断
14      007089        央视50  SHSE.600522     中天科技
15      007089        央视50  SZSE.300124     汇川技术
16      007089        央视50  SHSE.600398     海澜之家
17      007089        央视50  SHSE.601607     上海医药
18      007089        央视50  SZSE.002294      信立泰
19      007089        央视50  SZSE.300136     信维通信
20      007089        央视50  SHSE.600585     海螺水泥
21      007089        央视50  SHSE.600276     恒瑞医药
22      007089        央视50  SHSE.600036     招商银行
23      007089        央视50  SZSE.002120     韵达股份
24      007089        央视50  SHSE.603986     兆易创新
25      007089        央视50  SHSE.603160     汇顶科技
26      007089        央视50  SZSE.000651     格力电器
27      007089        央视50  SHSE.601088     中国神华
28      007089        央视50  SHSE.601939     建设银行
29      007089        央视50  SHSE.600016     民生银行
30      007089        央视50  SZSE.000538     云南白药
31      007089        央视50  SZSE.000002      万科A
32      007089        央视50  SHSE.601601     中国太保
33      007089        央视50  SHSE.601318     中国平安
34      007089        央视50  SHSE.600535      天士力
35      007089        央视50  SHSE.601398     工商银行
36      007089        央视50  SHSE.601988     中国银行
37      007089        央视50  SHSE.600085      同仁堂
38      007089        央视50  SHSE.600660     福耀玻璃
39      007089        央视50  SHSE.600519     贵州茅台
40      007089        央视50  SHSE.600690     海尔智家
41      007089        央视50  SZSE.002415     海康威视
42      007089        央视50  SZSE.002230     科大讯飞
43      007089        央视50  SZSE.000596     古井贡酒
44      007089        央视50  SZSE.300070      碧水源
45      007089        央视50  SZSE.002038     双鹭药业
46      007089        央视50  SHSE.600104     上汽集团
47      007089        央视50  SHSE.600600     青岛啤酒
48      007089        央视50  SZSE.000333     美的集团
49      007089        央视50  SZSE.000726      鲁泰A
 
        复制成功
```

**注意：**

**1.** 只能指定一个板块代码查询成分股。

## stk\_get\_symbol\_sector - 查询股票的所属板块

查询指定股票所属的板块

**函数原型：**

```python
stk_get_symbol_sector(symbols, sector_type)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str or list | 股票代码 | Y | 无 | 多个代码可用 ，使用时参考 [symbol](https://www.myquant.cn/docs2/sdk/python/%E5%8F%98%E9%87%8F%E7%BA%A6%E5%AE%9A.html#symbol-%E4%BB%A3%E7%A0%81%E6%A0%87%E8%AF%86) 采用 str 格式时，多个标的代码必须用英文逗号分割如： `'SHSE.600008,SZSE.000002'` 采用 list 格式时，多个标的代码示例： `['SHSE.600008', 'SZSE.000002']` |
| sector\_type | str | 板块类型 | Y | 无 | 只能选择一种类型，可选择 1001:市场类 1002:地域类 1003:概念类 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | exchange.sec\_id |
| sec\_name | str | 股票名称 | symbol 对应的股票名称 |
| sector\_code | str | 板块代码 | 指定板块类型下，symbol 所属的板块代码 |
| sector\_name | str | 板块名称 | 指定板块类型下，symbol 所属的板块名称 |

**示例：**

```python
stk_get_symbol_sector(symbols='SHSE.600008,SZSE.000002', sector_type='1002')
 
        复制成功
```

**输出：**

```python
symbol sec_name   sector_code sector_name
0  SHSE.600008     首创环保  006002001001         北京市
1  SZSE.000002      万科A  006006001015         深圳市
 
        复制成功
```

## stk\_get\_dividend - 查询股票分红送股信息

查询指定股票在一段时间内的分红送股信息

**函数原型：**

```python
stk_get_dividend(symbol, start_date, end_date)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbol | str | 标的代码 | Y | 无 | 必填，只能填一个股票标的，使用时参考 [symbol](https://www.myquant.cn/docs2/sdk/python/%E5%8F%98%E9%87%8F%E7%BA%A6%E5%AE%9A.html#symbol-%E4%BB%A3%E7%A0%81%E6%A0%87%E8%AF%86) |
| start\_date | str | 开始时间 | Y | 无 | 必填，开始时间日期（除权除息日），%Y-%m-%d 格式 |
| end\_date | str | 结束时间 | Y | 无 | 必填，结束时间日期（除权除息日），%Y-%m-%d 格式 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | exchange.sec\_id |
| scheme\_type | str | 分配方案 | 现金分红，送股，转增 |
| pub\_date | str | 公告日 | %Y-%m-%d 格式 |
| equity\_reg\_date | str | 股权登记日 | %Y-%m-%d 格式 |
| ex\_date | str | 除权除息日 | %Y-%m-%d 格式 |
| cash\_pay\_date | str | 现金红利发放日 | %Y-%m-%d 格式 |
| share\_acct\_date | str | 送转股到账日 | %Y-%m-%d 格式 |
| share\_lst\_date | str | 新增股份上市流通日 | 红股上市日或送（转增）股份上市交易日, %Y-%m-%d 格式 |
| cash\_af\_tax | float | 税后红利 | 单位：元/10 股 |
| cash\_bf\_tax | float | 税前红利 | 单位：元/10 股 |
| bonus\_ratio | float | 送股比例 | 10:X |
| convert\_ratio | float | 转增比例 | 10:X |
| base\_date | str | 股本基准日 | %Y-%m-%d 格式 |
| base\_share | float | 股本基数 | 基准股本 |
| dvd\_target | str | 分派对象 | 如：全体股东，流通股股东，非流通股股东，A股股东，A股流通股股东，A股限售股股东 |

**示例：**

```python
stk_get_dividend(symbol='SHSE.600000', start_date='2022-07-01', end_date='2022-07-31')
 
        复制成功
```

**输出：**

**注意：**

**1.** 当 `start_date` 小于或等于 `end_date` 时取指定时间段的数据,当 `start_date` > `end_date` 时返回报错.

## stk\_get\_ration - 查询股票配股信息

查询指定股票在一段时间内的配股信息

**函数原型：**

```python
stk_get_ration(symbol, start_date, end_date)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbol | str | 标的代码 | Y | 无 | 必填，只能填一个股票标的，使用时参考 [symbol](https://www.myquant.cn/docs2/sdk/python/%E5%8F%98%E9%87%8F%E7%BA%A6%E5%AE%9A.html#symbol-%E4%BB%A3%E7%A0%81%E6%A0%87%E8%AF%86) |
| start\_date | str | 开始时间 | Y | 无 | 必填, 开始时间日期（除权除息日），%Y-%m-%d 格式 |
| end\_date | str | 结束时间 | Y | 无 | 必填, 结束时间日期（除权除息日），%Y-%m-%d 格式 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | exchange.sec\_id |
| pub\_date | str | 公告日 | %Y-%m-%d 格式 |
| equity\_reg\_date | str | 股权登记日 | %Y-%m-%d 格式 |
| ex\_date | str | 除权除息日 | %Y-%m-%d 格式 |
| ration\_ratio | float | 配股比例 | 10:X |
| ration\_price | float | 配股价格 | 单位：元 |

**示例：**

```python
stk_get_ration(symbol='SZSE.000728', start_date="2005-01-01", end_date="2022-09-30")
 
        复制成功
```

**输出：**

```python
symbol    pub_date equity_reg_date     ex_date  ration_ratio  ration_price
0  SZSE.000728  2020-10-09      2020-10-13  2020-10-22           3.0          5.44
 
        复制成功
```

**注意：**

**1.** 当 `start_date` 小于或等于 `end_date` 时取指定时间段的数据,当 `start_date` > `end_date` 时返回报错.

## stk\_get\_adj\_factor - 查询股票的复权因子

查询某只股票在一段时间内的复权因子

**函数原型：**

```python
stk_get_adj_factor(symbol, start_date="", end_date="", base_date="")
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbol | str | 标的代码 | Y | 无 | 必填，只能填一个股票标的，使用时参考 [symbol](https://www.myquant.cn/docs2/sdk/python/%E5%8F%98%E9%87%8F%E7%BA%A6%E5%AE%9A.html#symbol-%E4%BB%A3%E7%A0%81%E6%A0%87%E8%AF%86) |
| start\_date | str | 开始时间 | N | "" | 开始时间交易日期，%Y-%m-%d 格式，默认 `""` 表示最新时间 |
| end\_date | str | 结束时间 | N | "" | 结束时间交易日期，%Y-%m-%d 格式，默认 `""` 表示最新时间 |
| base\_date | str | 复权基准日 | N | "" | 前复权的基准日，%Y-%m-%d 格式，默认 `""` 表示最新时间 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| trade\_date | str | 交易日期 | 开始时间至结束时间的交易日期 |
| adj\_factor\_bwd | float | 当日后复权因子 | T 日后复权因子=T-1 日的收盘价/T 日昨收价 |
| adj\_factor\_bwd\_acc | float | 当日累计后复权因子 | T 日累计后复权因子=T 日后复权因子 ×T-1 日累计后复权因子,... 第一个累计后复权因子=第一个后复权因子 |
| adj\_factor\_fwd | float | 当日前复权因子 | T 日前复权因子=T 日累计后复权因子/复权基准日累计后复权因子 |
| adj\_factor\_fwd\_acc | float | 当日累计前复权因子 | T 日累计前复权因子=1/T 日后复权因子, T-1 日累计前复权因子=1/(T 日后复权因子 ×T-1 日后复权因子),... 第一个累计前复权因子=1/最新累计后复权因子 |

**示例：**

```python
stk_get_adj_factor(symbol='SZSE.000651', start_date="2015-01-01", end_date="2022-09-01", base_date="")
 
        复制成功
```

**输出：**

```python
trade_date  adj_factor_bwd  adj_factor_bwd_acc  adj_factor_fwd  adj_factor_fwd_acc
0     2015-01-05             1.0             49.1697          0.3315              3.0169
1     2015-01-06             1.0             49.1697          0.3315              3.0169
2     2015-01-07             1.0             49.1697          0.3315              3.0169
3     2015-01-08             1.0             49.1697          0.3315              3.0169
4     2015-01-09             1.0             49.1697          0.3315              3.0169
...          ...             ...                 ...             ...                 ...
1862  2022-08-26             1.0            148.3407          1.0000              1.0000
1863  2022-08-29             1.0            148.3407          1.0000              1.0000
1864  2022-08-30             1.0            148.3407          1.0000              1.0000
1865  2022-08-31             1.0            148.3407          1.0000              1.0000
1866  2022-09-01             1.0            148.3407          1.0000              1.0000
[1867 rows x 5 columns]

 
        复制成功
```

**注意：**

**1.** T+1 日复权因子会二次更新，分别约在 T 日 19:00 和 T+1 日 19:00 更新

**2.** 复权价格计算： `T日后复权价格 = T日不复权价格 * T日累计后复权因子` `T日前复权价格 = T日不复权价格 * T日前复权因子`

**3.** 上市首日后复权因子和累计后复权因子为 1，最近一次除权除息日后的前复权因子为 1

**4.** 前复权基准日 `base_date` 应不早于设定的结束日期 `end_date` ，不晚于最新交易日。若设定的基准日早于 `end_date` 则等同于 `end_date` ，若设定的基准日晚于最新交易日则等同于最新交易日。

**5.** 当 `start_date` 小于或等于 `end_date` 时取指定时间段的数据,当 `start_date` > `end_date` 时返回报错.

## stk\_get\_shareholder\_num - 查询股东户数

查询上市公司股东总数，A 股股东、B 股股东、H 股股东总数

**函数原型：**

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbol | str | 股票代码 | Y | 无 | 必填，只能填一个股票标的，使用时参考 [symbol](https://www.myquant.cn/docs2/sdk/python/%E5%8F%98%E9%87%8F%E7%BA%A6%E5%AE%9A.html#symbol-%E4%BB%A3%E7%A0%81%E6%A0%87%E8%AF%86) |
| start\_date | str | 开始时间 | N | "" | 开始时间日期（公告日期），%Y-%m-%d 格式，默认 `""` 表示最新时间 |
| end\_date | str | 结束时间 | N | "" | 结束时间日期（公告日期），%Y-%m-%d 格式，默认 `""` 表示最新时间 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | exchange.sec\_id |
| sec\_name | str | 股票名称 | symbol 对应的股票名称 |
| pub\_date | str | 公告日期 |  |
| expiry\_date | str | 截止日期 |  |
| total\_share | int | 股东总数 |  |
| total\_share\_a | int | A 股股东总数 |  |
| total\_share\_b | int | 流通 B 股股东总数 |  |
| total\_share\_h | int | 流通 H 股股东总数 |  |
| other\_share | int | 其他股东户数 |  |
| total\_share\_pfd | int | 优先股股东总数（表决权恢复） |  |
| total\_share\_mgn | int | 股东户数（含融资融券） | 合并普通账户和融资融券信用账户后的股东总户数 |
| total\_share\_no\_mgn | int | 股东户数（不含融资融券） | 普通账户的股东总户数 |

**示例：**

**输出：**

**注意：**

当 `start_date == end_date` 时，取离 `end_date` 最近公告日期的一条数据， 当 `start_date < end_date` 时，取指定时间段的数据， 当 `start_date > end_date` 时，返回报错。

## stk\_get\_top\_shareholder - 查询十大股东

查询上市公司前十大股东的持股情况，包括持股数量，所持股份性质等

**函数原型：**

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbol | str | 股票代码 | Y | 无 | 必填，只能填一个股票标的，使用时参考 [symbol](https://www.myquant.cn/docs2/sdk/python/%E5%8F%98%E9%87%8F%E7%BA%A6%E5%AE%9A.html#symbol-%E4%BB%A3%E7%A0%81%E6%A0%87%E8%AF%86) |
| start\_date | str | 开始时间 | N | "" | 开始时间日期（公告日期），%Y-%m-%d 格式，默认 `""` 表示最新时间 |
| end\_date | str | 结束时间 | N | "" | 结束时间日期（公告日期），%Y-%m-%d 格式，默认 `""` 表示最新时间 |
| tradable\_holder | bool | 是否流通股东 | N | False | False-十大股东（默认）、True-十大流通股东 默认 `False` 表示十大股东 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | exchange.sec\_id |
| sec\_name | str | 股票名称 | symbol 对应的股票名称 |
| pub\_date | str | 公告日期 |  |
| expiry\_date | str | 截止日期 |  |
| holder\_name | str | 股东名称 |  |
| holder\_rank | int | 股东序号 | 名次 |
| holder\_type | str | 股东类型 |  |
| holder\_attr | str | 股东性质 | 十大流通股东不返回 |
| share\_type | str | 股份类型 | 股份性质 |
| share\_num | float | 持股数量 | 持有数量（股） |
| share\_ratio1 | float | 持股比例 1 | 持股占总股本比例（%） |
| share\_ratio2 | float | 持股比例 2 | 持股占已上市流通股比例（%），仅十大流通股东才返回 |
| share\_pledge | float | 质押股份数量 | 股权质押涉及股数（股） |
| share\_freeze | float | 冻结股份数量 | 股权冻结涉及股数（股） |

**示例：**

**输出：**

```python
symbol sec_name    pub_date expiry_date                                       holder_name  holder_rank holder_type holder_attr share_type   share_num  share_ratio1  share_ratio2  share_pledge  share_freeze
0   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10                       上海歆享资产管理有限公司-歆享盈新1号私募证券投资基金           10        投资公司       境内法人股       流通A股  3.1941e+06          0.66           0.0           0.0           0.0
1   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10                       上海迎水投资管理有限公司-迎水日新9号私募证券投资基金            9        投资公司       境内法人股       流通A股  3.2252e+06          0.67           0.0           0.0           0.0
2   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10                中国工商银行股份有限公司-南方卓越优选3个月持有期混合型证券投资基金            5      证券投资基金       境内法人股       流通A股  4.9513e+06          1.03           0.0           0.0           0.0
3   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10                     中国工商银行股份有限公司-申万菱信新经济混合型证券投资基金            7      证券投资基金       境内法人股       流通A股  3.7343e+06          0.77           0.0           0.0           0.0
4   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10                    中国工商银行股份有限公司-财通资管价值成长混合型证券投资基金            3      证券投资基金       境内法人股       流通A股  8.1342e+06          1.69           0.0           0.0           0.0
5   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10               中国工商银行股份有限公司-财通资管均衡价值一年持有期混合型证券投资基金            8      证券投资基金       境内法人股       流通A股  3.6870e+06          0.76           0.0           0.0           0.0
6   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10     平安基金-中国平安人寿保险股份有限公司-平安人寿-平安基金权益委托投资1号单一资产管理计划            4    基金资产管理计划       境内法人股       流通A股  5.6035e+06          1.16           0.0           0.0           0.0
7   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10                                    建投嘉驰(上海)投资有限公司            6        投资公司         国有股       流通A股  4.4512e+06          0.92           0.0           0.0           0.0
8   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10                                               朱香兰            2          个人        自然人股       流通A股  2.3619e+07          4.90           0.0           0.0           0.0
9   SHSE.603906     龙蟠科技  2022-06-18  2022-06-10                                               石俊峰            1          个人        自然人股       流通A股  2.1266e+08         44.11           0.0           0.0           0.0
10  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16          JPMORGAN CHASE BANK,NATIONAL ASSOCIATION            8        QFII       境外法人股       流通A股  5.5692e+06          0.99           0.0           0.0           0.0
11  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16                中国工商银行股份有限公司-南方卓越优选3个月持有期混合型证券投资基金           10      证券投资基金       境内法人股       流通A股  4.9513e+06          0.88           0.0           0.0           0.0
12  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16                    中国工商银行股份有限公司-财通资管价值成长混合型证券投资基金            4      证券投资基金       境内法人股       流通A股  1.1999e+07          2.12           0.0           0.0           0.0
13  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16               中国工商银行股份有限公司-财通资管均衡价值一年持有期混合型证券投资基金            9      证券投资基金       境内法人股       流通A股  5.5354e+06          0.98           0.0           0.0           0.0
14  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16     平安基金-中国平安人寿保险股份有限公司-平安人寿-平安基金权益委托投资1号单一资产管理计划            7    基金资产管理计划       境内法人股       流通A股  5.6035e+06          0.99           0.0           0.0           0.0
15  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16           成都丝路重组股权投资基金管理有限公司-成都振兴嘉业贰号股权投资中心(有限合伙)            5        投资公司       境内法人股       流通A股  5.6582e+06          1.00           0.0           0.0           0.0
16  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16                                               朱香兰            2          个人        自然人股       流通A股  2.3619e+07          4.18           0.0           0.0           0.0
17  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16  汇添富基金-中信银行理财之乐赢成长周期一年B款理财产品-汇添富中信添富牛170号单一资产管理计划            3    基金资产管理计划       境内法人股       流通A股  1.3203e+07          2.34           0.0           0.0           0.0
18  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16                                  济南江山投资合伙企业(有限合伙)            5        投资公司       境内法人股       流通A股  5.6582e+06          1.00           0.0           0.0           0.0
19  SHSE.603906     龙蟠科技  2022-06-18  2022-06-16                                               石俊峰            1          个人        自然人股       流通A股  2.1266e+08         37.63           0.0           0.0           0.0

 
        复制成功
```

**注意：**

当 `start_date == end_date` 时，取离 `end_date` 最近公告日期的一条数据， 当 `start_date < end_date` 时，取指定时间段的数据， 当 `start_date > end_date` 时，返回报错。

## stk\_get\_share\_change - 查询股本变动

查询上市公司的一段时间内公告的股本变动情况

**函数原型：**

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbol | str | 股票代码 | Y | 无 | 必填，只能填一个股票标的，使用时参考 [symbol](https://www.myquant.cn/docs2/sdk/python/%E5%8F%98%E9%87%8F%E7%BA%A6%E5%AE%9A.html#symbol-%E4%BB%A3%E7%A0%81%E6%A0%87%E8%AF%86) |
| start\_date | str | 开始时间 | N | "" | 开始时间日期（发布日期），%Y-%m-%d 格式，默认 `""` 表示最新时间 |
| end\_date | str | 结束时间 | N | "" | 结束时间日期（发布日期），%Y-%m-%d 格式，默认 `""` 表示最新时间 |

**返回值：** `dataframe`

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | exchange.sec\_id |
| company\_name | str | 公司名称 | symbol 对应的公司名称 |
| pub\_date | str | 发布日期 |  |
| chg\_date | str | 股本变动日期 |  |
| chg\_reason | str | 股本变动原因 |  |
| chg\_event | str | 股本变动事件 |  |
| share\_total | float | 总股本 | 未流通股份+已流通股份，单位：股 |
| share\_total\_nlf | float | 未流通股份 | 单位：股 |
| share\_prom | float | 一、发起人股份 | 国有发起人股 + 发起社会法人股 + 其他发起人股份，单位：股 |
| share\_prom\_state | float | 1.国有发起人股 | 国家持股+国有法人股，单位：股 |
| share\_state | float | （1）国家股 | 单位：股 |
| share\_state\_lp | float | （2）国有法人股 | 单位：股 |
| share\_prom\_soc | float | 2.发起社会法人股 | 境内社会法人股+境外法人股，单位：股 |
| share\_dc\_lp | float | （1）境内社会法人股 | 单位：股 |
| share\_os\_lp | float | （2）境外法人股 | 单位：股 |
| share\_prom\_other | float | 3.其他发起人股份 | 单位：股 |
| share\_rs | float | 二、募集人股份 | 募集国家股+募集境内法人股+募集境外法人股，单位：股 |
| share\_rs\_state | float | 1.募集国家股 | 单位：股 |
| share\_rs\_dc\_lp | float | 2.募集境内法人股 | 募集境内国有法人股+募集境内社会法人股，单位：股 |
| share\_rs\_state\_lp | float | （1）募集境内国有法人股 | 单位：股 |
| share\_rs\_soc\_lp | float | （2）募集境内社会法人股 | 单位：股 |
| share\_rs\_os\_lp | float | 3.募集境外法人股 | 单位：股 |
| share\_emp\_nlf | float | 三、内部职工股 | 单位：股 |
| share\_pfd\_nlf | float | 四、优先股 | 单位：股 |
| share\_oth\_nlf | float | 五、其他未流通股份 | 单位：股 |
| share\_circ | float | 流通股份 | 单位：股，无限售条件股份+有限售条件股份，实际流通股份可用share\_ttl\_unl（无限售条件股份） |
| share\_ttl\_unl | float | 无限售条件股份 | 人民币普通股（A 股）+ 境内上市外资股（B 股）+ 境外上市外资股（H 股）+ 其他已流通股份，单位：股 |
| share\_a\_unl | float | 1.人民币普通股（A 股） | 单位：股 |
| share\_b\_unl | float | 2.境内上市外资股（B 股） | 单位：股 |
| share\_h\_unl | float | 3.境外上市外资股（H 股） | 单位：股 |
| share\_oth\_unl | float | 4.其他已流通股份 | 单位：股 |
| share\_ttl\_ltd | float | 有限售条件股份 | 单位：股 |
| share\_gen\_ltd | float | 一、一般有限售条件股份 | 限售国家持股+ 限售国有法人持股+ 限售其他内资持股+ 限售外资持股+ 锁定股份+ 高管持股，单位：股 |
| share\_state\_ltd | float | 1.限售国家持股 | 单位：股 |
| share\_state\_lp\_ltd | float | 2.限售国有法人持股 | 单位：股 |
| share\_oth\_dc\_ltd | float | 3.限售其他内资持股 | 限售境内非国有法人持股+限售境内自然人持股，单位：股 |
| share\_nst\_dc\_lp\_ltd | float | （1）限售境内非国有法人持股 | 单位：股 |
| share\_dc\_np\_ltd | float | （2）限售境内自然人持股 | 单位：股 |
| share\_forn\_ltd | float | 4.限售外资持股 | 限售境外法人持股+限售境外自然人持股，单位：股 |
| share\_os\_lp\_ltd | float | （1）限售境外法人持股 | 单位：股 |
| share\_os\_np\_ltd | float | （2）限售境外自然人持股 | 单位：股 |
| share\_lk\_ltd | float | 5.锁定股份 | 单位：股 |
| share\_gm\_ltd | float | 6.高管持股(原始披露) | 单位：股 |
| share\_plc\_lp\_ltd | float | 二、配售法人持股 | 战略投资者配售股份+一般法人投资者配售+ 证券投资基金配售股份，单位：股 |
| share\_plc\_si\_ltd | float | 1.战略投资者配售股份 | 单位：股 |
| share\_plc\_lp\_gen\_ltd | float | 2.一般法人投资者配售股份 | 单位：股 |
| share\_plc\_fnd\_ltd | float | 3.证券投资基金配售股份 | 单位：股 |
| share\_a\_ltd | float | 限售流通 A 股 | 单位：股 |
| share\_b\_ltd | float | 限售流通 B 股 | 单位：股 |
| share\_h\_ltd | float | 限售流通 H 股 | 单位：股 |
| share\_oth\_ltd | float | 其他限售股份 | 单位：股 |
| share\_list\_date | str | 变动股份上市日 | %Y-%m-%d 格式 |

**示例：**

**输出：**

```python
symbol  company_name    pub_date    chg_date chg_reason chg_event  share_total  share_total_nlf  share_prom  share_prom_state  share_state  share_state_lp  share_prom_soc  share_dc_lp  share_os_lp  share_prom_other  share_rs  share_rs_state  share_rs_dc_lp  share_rs_state_lp  share_rs_soc_lp  share_rs_os_lp  share_emp_nlf  share_pfd_nlf  share_oth_nlf  share_circ  share_ttl_unl  share_a_unl  share_b_unl  share_h_unl  share_oth_unl  share_ttl_ltd  share_gen_ltd  share_state_ltd  share_state_lp_ltd  share_oth_dc_ltd  share_nst_dc_lp_ltd  share_dc_np_ltd  share_forn_ltd  share_os_lp_ltd  share_os_np_ltd  share_lk_ltd  share_gm_ltd  share_plc_lp_ltd  share_plc_si_ltd  share_plc_lp_gen_ltd  share_plc_fnd_ltd  share_a_ltd  share_b_ltd  share_h_ltd  share_oth_ltd share_list_date
0  SHSE.605090  江西九丰能源股份有限公司  2021-05-24  2021-05-13     首发A股上市      发行融资   4.4297e+08              0.0         0.0               0.0          0.0             0.0             0.0          0.0          0.0               0.0       0.0             0.0             0.0                0.0              0.0             0.0            0.0            0.0            0.0  4.4297e+08     8.2970e+07   8.2970e+07          0.0          0.0            0.0     3.6000e+08     3.6000e+08              0.0                 0.0        3.1967e+08           2.1591e+08       1.0376e+08      4.0330e+07       4.0330e+07              0.0           0.0    1.0376e+08               0.0               0.0                   0.0                0.0   3.6000e+08          0.0          0.0            0.0      2021-05-25
1  SHSE.605090  江西九丰能源股份有限公司  2022-05-12  2022-05-18      转增股上市      分红派息   6.2016e+08              0.0         0.0               0.0          0.0             0.0             0.0          0.0          0.0               0.0       0.0             0.0             0.0                0.0              0.0             0.0            0.0            0.0            0.0  6.2016e+08     1.1616e+08   1.1616e+08          0.0          0.0            0.0     5.0400e+08     5.0400e+08              0.0                 0.0        4.4754e+08           3.0228e+08       1.4526e+08      5.6462e+07       5.6462e+07              0.0           0.0    0.0000e+00               0.0               0.0                   0.0                0.0   5.0400e+08          0.0          0.0            0.0      2022-05-19
2  SHSE.605090  江西九丰能源股份有限公司  2022-05-25  2022-05-30   首发限售股份上市     限售股解禁   6.2016e+08              0.0         0.0               0.0          0.0             0.0             0.0          0.0          0.0               0.0       0.0             0.0             0.0                0.0              0.0             0.0            0.0            0.0            0.0  6.2016e+08     2.5281e+08   2.5281e+08          0.0          0.0            0.0     3.6735e+08     3.6735e+08              0.0                 0.0        3.6735e+08           2.2209e+08       1.4526e+08      0.0000e+00       0.0000e+00              0.0           0.0    0.0000e+00               0.0               0.0                   0.0                0.0   3.6735e+08          0.0          0.0            0.0      2022-05-30
 
        复制成功
```

**注意：**

当 `start_date == end_date` 时，取离 `end_date` 最近发布日期的一条数据， 当 `start_date < end_date` 时，取指定时间段的数据， 当 `start_date > end_date` 时，返回报错。

## stk\_abnor\_change\_stocks - 查询龙虎榜股票数据

查询指定时间段龙虎榜股票数据

**gm SDK 3.0.163 版本新增**

**函数原型：**

```python
stk_abnor_change_stocks(symbols=None, change_types=None, trade_date=None, fields=None, df=False)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str or list | 股票代码 | N | None | 输入标的代码，可输入多个. 采用 str 格式时，多个标的代码必须用英文逗号分割，如：'SHSE.600008,SZSE.000002'; 采用 list 格式时，多个标的代码示例：\['SHSE.600008', 'SZSE.000002'\], 默认None表示所有标的。 |
| change\_types | str or list | 异动类型 | N | None | 输入异动类型，可输入多个. 采用 str 格式时，多个异动类型必须用英文逗号分割，如：'106,107'; 采用 list 格式时，多个异动类型示例：\['106','107'\]； 默认None表示所有异动类型。 [龙虎榜异动类型列表](https://www.myquant.cn/docs2/docs/#%E9%BE%99%E8%99%8E%E6%A6%9C%E5%BC%82%E5%8A%A8%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8) |
| trade\_date | str or datetime.date | 交易日期 | N | None | 交易日期，支持str格式（%Y-%m-%d 格式）和 datetime.date 格式，默认None表示最新交易日期。 |
| fields | str | 返回字段 | N | None | 指定需要返回的字段，如有多个字段，中间用英文逗号分隔，默认 None 返回所有字段。 |
| df | bool | 返回格式 | N | False | 是否返回 dataframe 格式 ， 默认 `False` 返回 list\[dict\],列表每项的dict的key值为参数指定的 fields 。 |

**返回值：**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | exchange.sec\_id |
| trade\_date | str | 交易日期 |  |
| change\_type | str | 异动类型 | 交易所披露的公开信息及异常波动信息的原因类型,[龙虎榜异动类型列表](https://www.myquant.cn/docs2/docs/#%E9%BE%99%E8%99%8E%E6%A6%9C%E5%BC%82%E5%8A%A8%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8) |
| change\_type\_name | str | 异动类型说明 | 交易所披露的公开信息及异常波动信息的原因的中文说明 |
| abnor\_start\_date | str | 异动开始日期 | 股票异动开始的日期，仅部分异动类型才有 |
| abnor\_end\_date | str | 异动结束日期 | 股票异动结束的日期，仅部分异动类型才有 |
| close | float | 收盘价 | 股票的日频收盘价 |
| cum\_volume | int | 累计成交量 | 股票的累计成交量，当存在具体异动开始/结束日期时，累计成交量为区间成交量；当不存在具体异动开始/结束日期时，累计成交量为当日成交量 |
| cum\_amount | float | 累计成交额 | 股票的累计成交额，当存在具体异动开始/结束日期时，累计成交额为区间成交额；当不存在具体异动开始/结束日期时，累计成交额为当日成交额 |
| prc\_change\_rate | float | 涨跌幅% | 当日涨跌幅 |
| avg\_turn\_rate | float | 日均换手率比值 | 异动类型中，触发相应异动事件的日均换手率比值 |
| stat\_value | float | 统计值 | 异动类型中，触发相应异动事件的统计值 |

**示例：**

```python
stk_abnor_change_stocks(symbols=None, change_types='106', trade_date=None, fields=None, df=False)
 
        复制成功
```

**输出：**

```python
[{'symbol': 'SZSE.000017', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '日涨幅偏离值达到7%的前5只证券', 'close': 12.77, 'cum_volume': 110996688, 'cum_amount': 1375429201.0, 'prc_change_rate': 9.9914, 'stat_value': 9.05},
 {'symbol': 'SZSE.001217', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '日涨幅偏离值达到7%的前5只证券', 'close': 16.68, 'cum_volume': 54707801, 'cum_amount': 798100880.0, 'prc_change_rate': 10.0264, 'stat_value': 9.05},
 {'symbol': 'SZSE.002230', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '日涨幅偏离值达到7%的前5只证券', 'close': 42.11, 'cum_volume': 105142255, 'cum_amount': 4299831646.0, 'prc_change_rate': 10.0052, 'stat_value': 9.05},
 {'symbol': 'SZSE.002517', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '日涨幅偏离值达到7%的前5只证券', 'close': 11.2, 'cum_volume': 134710030, 'cum_amount': 1488908194.0, 'prc_change_rate': 10.0196, 'stat_value': 9.05},
 {'symbol': 'SZSE.003027', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '日涨幅偏离值达到7%的前5只证券', 'close': 28.84, 'cum_volume': 26272266, 'cum_amount': 727342648.0, 'prc_change_rate': 9.9924, 'stat_value': 9.05},
 {'symbol': 'SHSE.600200', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的前五只证券', 'close': 8.97, 'cum_volume': 5877996, 'cum_amount': 52725624.0, 'prc_change_rate': 10.0613, 'stat_value': 9.53},
 {'symbol': 'SHSE.600629', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的前五只证券', 'close': 4.93, 'cum_volume': 25619361, 'cum_amount': 121095785.0, 'prc_change_rate': 10.0446, 'stat_value': 9.52},
 {'symbol': 'SHSE.600675', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的前五只证券', 'close': 3.16, 'cum_volume': 37060390, 'cum_amount': 111530727.0, 'prc_change_rate': 10.1045, 'stat_value': 9.58},
 {'symbol': 'SHSE.600816', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的前五只证券', 'close': 2.83, 'cum_volume': 21759618, 'cum_amount': 59379245.0, 'prc_change_rate': 10.1167, 'stat_value': 9.59},
 {'symbol': 'SHSE.600836', 'trade_date': '2024-01-23', 'change_type': '106', 'change_type_name': '有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的前五只证券', 'close': 3.81, 'cum_volume': 21817595, 'cum_amount': 78789358.0, 'prc_change_rate': 10.1156, 'stat_value': 9.59}]
 
        复制成功
```

**注意：**

**1.** 数据日频更新，在交易日约20点更新当日数据。如果当前交易日数据尚未更新，调用时不指定trade\_date会返回前一交易日的数据，调用时指定trade\_date为当前交易日会返回空。

**2.** trade\_date输入非交易日，会返回空。

## stk\_abnor\_change\_detail - 查询龙虎榜营业部数据

查询指定时间段龙虎榜营业数据

**gm SDK 3.0.163 版本新增**

**函数原型：**

```python
stk_abnor_change_detail(symbols=None, change_types=None, trade_date=None, fields=None, df=False)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str or list | 股票代码 | N | None | 输入标的代码，可输入多个. 采用 str 格式时，多个标的代码必须用英文逗号分割，如：'SHSE.600008,SZSE.000002'; 采用 list 格式时，多个标的代码示例：\['SHSE.600008', 'SZSE.000002'\], 默认None表示所有标的。 |
| change\_types | str or list | 异动类型 | N | None | 输入异动类型，可输入多个. 采用 str 格式时，多个异动类型必须用英文逗号分割，如：'106,107'; 采用 list 格式时，多个异动类型示例：\['106','107'\]； 默认None表示所有异动类型。 [龙虎榜异动类型列表](https://www.myquant.cn/docs2/docs/#%E9%BE%99%E8%99%8E%E6%A6%9C%E5%BC%82%E5%8A%A8%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8) |
| trade\_date | str or datetime.date | 交易日期 | N | None | 交易日期，支持str格式（%Y-%m-%d 格式）和 datetime.date 格式，默认None表示最新交易日期。 |
| fields | str | 返回字段 | N | None | 指定需要返回的字段，如有多个字段，中间用英文逗号分隔，默认 None 返回所有字段。 |
| df | bool | 返回格式 | N | False | 是否返回 dataframe 格式 ， 默认 `False` 返回 list\[dict\],列表每项的dict的key值为参数指定的 fields 。 |

**返回值：**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | exchange.sec\_id |
| trade\_date | str | 交易日期 |  |
| change\_type | str | 异动类型 | 交易所披露的公开信息及异常波动信息的原因类型,[龙虎榜异动类型列表](https://www.myquant.cn/docs2/docs/#%E9%BE%99%E8%99%8E%E6%A6%9C%E5%BC%82%E5%8A%A8%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8) |
| side | int | 交易方向 | 0-买入 1-卖出 |
| sales\_dept | str | 营业部名称 |  |
| buy\_amount | float | 买入金额 |  |
| sell\_amount | float | 卖出金额 |  |
| rank | int | 排名 |  |
| stat\_days | str | 统计天数 |  |

**示例：**

```python
stk_abnor_change_detail(symbols=['SZSE.300799'], change_types=None, trade_date='2024-01-23', fields=None, df=False)
 
        复制成功
```

**输出：**

```python
[{'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨东环路第一证券营业部', 'buy_amount': 14564894.0, 'sell_amount': 7558746.0, 'rank': 1, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨团结路第二证券营业部', 'buy_amount': 9851257.0, 'sell_amount': 7961995.0, 'rank': 2, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨东环路第二证券营业部', 'buy_amount': 9168211.0, 'sell_amount': 10625788.4, 'rank': 3, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨金融城南环路证券营业部', 'buy_amount': 8130605.0, 'sell_amount': 4825320.0, 'rank': 4, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨团结路第一证券营业部', 'buy_amount': 7874940.0, 'sell_amount': 7103053.0, 'rank': 5, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '东方财富证券股份有限公司拉萨东环路第二证券营业部', 'buy_amount': 9168211.0, 'sell_amount': 10625788.4, 'rank': 1, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '华泰证券股份有限公司杭州求是路证券营业部', 'buy_amount': 86904.0, 'sell_amount': 8832233.0, 'rank': 2, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '东方财富证券股份有限公司拉萨团结路第二证券营业部', 'buy_amount': 9851257.0, 'sell_amount': 7961995.0, 'rank': 3, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '东方财富证券股份有限公司拉萨东环路第一证券营业部', 'buy_amount': 14564894.0, 'sell_amount': 7558746.0, 'rank': 4, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '东方财富证券股份有限公司拉萨团结路第一证券营业部', 'buy_amount': 7874940.0, 'sell_amount': 7103053.0, 'rank': 5, 'change_type': '149'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨东环路第一证券营业部', 'buy_amount': 20244889.0, 'sell_amount': 13720238.0, 'rank': 1, 'stat_days': '2         ', 'change_type': '153'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨东环路第二证券营业部', 'buy_amount': 16872156.0, 'sell_amount': 16700434.4, 'rank': 2, 'stat_days': '2         ', 'change_type': '153'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨团结路第二证券营业部', 'buy_amount': 16274111.0, 'sell_amount': 13804247.0, 'rank': 3, 'stat_days': '2         ', 'change_type': '153'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨团结路第一证券营业部', 'buy_amount': 13191129.0, 'sell_amount': 13434925.0, 'rank': 4, 'stat_days': '2         ', 'change_type': '153'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'sales_dept': '东方财富证券股份有限公司拉萨金融城南环路证券营业部', 'buy_amount': 12009881.0, 'sell_amount': 7226749.0, 'rank': 5, 'stat_days': '2         ', 'change_type': '153'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '东方财富证券股份有限公司拉萨东环路第二证券营业部', 'buy_amount': 16872156.0, 'sell_amount': 16700434.4, 'rank': 1, 'stat_days': '2         ', 'change_type': '153'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '东方财富证券股份有限公司拉萨团结路第二证券营业部', 'buy_amount': 16274111.0, 'sell_amount': 13804247.0, 'rank': 2, 'stat_days': '2         ', 'change_type': '153'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '东方财富证券股份有限公司拉萨东环路第一证券营业部', 'buy_amount': 20244889.0, 'sell_amount': 13720238.0, 'rank': 3, 'stat_days': '2         ', 'change_type': '153'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '东方财富证券股份有限公司拉萨团结路第一证券营业部', 'buy_amount': 13191129.0, 'sell_amount': 13434925.0, 'rank': 4, 'stat_days': '2         ', 'change_type': '153'},
 {'symbol': 'SZSE.300799', 'trade_date': '2024-01-23', 'side': 1, 'sales_dept': '东方财富证券股份有限公司拉萨东城区江苏大道证券营业部', 'buy_amount': 8374957.0, 'sell_amount': 11359868.5, 'rank': 5, 'stat_days': '2         ', 'change_type': '153'}]
 
        复制成功
```

**注意：**

**1.** 数据日频更新，在交易日约20点更新当日数据。如果当前交易日数据尚未更新，调用时不指定trade\_date会返回前一交易日的数据，调用时指定trade\_date为当前交易日会返回空。

**2.** trade\_date输入非交易日，会返回空。

## stk\_quota\_shszhk\_infos - 查询沪深港通额度数据

查询指定时间段沪深港通额度数据

**gm SDK 3.0.163 版本新增**

**交易所信息披露调整，2024.8.19起，NF-北向资金/SH-沪股通/SZ-深股通只返回结算汇率数据，历史数据不受影响，SHHK-沪港股通/SZHK-深港股通不受影响**

**函数原型：**

```python
stk_quota_shszhk_infos(types=None, start_date=None, end_date=None, count=None, df=False)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| types | str or list | 类型 | N | None | 类型，可输入多个，采用 str 格式时，多个类型必须用英文逗号分割，如：'SZ,SHHK' 采用 list 格式时，多个标的代码示例：\['SZ', 'SHHK'\]，类型包括：SH - 沪股通 ，SHHK - 沪港股通 ，SZ - 深股通 ，SZHK - 深港股通，NF - 北向资金（沪股通+深股通），默认 None 为全部北向资金。 |
| start\_date | str or datetime.date | 开始日期 | N | None | 开始日期，支持str格式（%Y-%m-%d 格式）和 datetime.date 格式，默认None表示最新交易日期。 |
| end\_date | str or datetime.date | 结束日期 | N | None | 结束日期，支持str格式（%Y-%m-%d 格式）和 datetime.date 格式，默认None表示最新交易日期。 |
| count | int | 交易日数量 | N | None | 数量(正整数)，不能与start\_date同时使用，否则返回报错；与 end\_date 同时使用时，表示获取 end\_date 前 count 个交易日的数据(包含 end\_date 当日)；默认为 None ，不使用该字段。 |
| df | bool | 返回格式 | N | False | 是否返回 dataframe 格式 ， 默认 `False` 返回 list\[dict\],列表每项的dict的key值为参数指定的 fields 。 |

**返回值：**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| type | str | 类型 | SH - 沪股通 ，SHHK - 沪港股通 ，SZ - 深股通 ，SZHK - 深港股通，NF - 北向资金（沪股通+深股通） |
| trade\_date | str | 最新交易日期 |  |
| daily\_quota | float | 每日额度上限(亿元) |  |
| day\_balance | float | 当日余额(亿元) |  |
| day\_used | float | 当日使用额度(亿元) |  |
| day\_used\_rate | float | 当日额度使用率(%) |  |
| day\_buy\_amount | float | 当日买入成交金额(亿元) |  |
| day\_buy\_volume | float | 当日买入成交笔数(笔) |  |
| day\_sell\_amount | float | 当日卖出成交金额(亿元) |  |
| day\_sell\_volume | float | 当日卖出成交笔数(笔) |  |
| day\_net\_amount | float | 当日买卖成交净额(亿元) |  |
| settle\_exrate\_buy | float | 沪深港通结算汇率(买入) |  |
| settle\_exrate\_sell | float | 沪深港通结算汇率(卖出) |  |

**示例：**

```python
stk_quota_shszhk_infos(types='SHHK', start_date=None, end_date='2024-01-23', count=1, df=False)
 
        复制成功
```

**输出：**

```python
[{'type': 'SHHK', 'trade_date': '2024-01-23', 'daily_quota': 420.0, 'day_balance': 433.3, 'day_used': -13.3, 'day_used_rate': -3.167, 'day_buy_amount': 63.4454, 'day_buy_volume': 179494.0, 'day_sell_amount': 86.4077, 'day_sell_volume': 216835.0, 'settle_exrate_buy': 0.9209, 'settle_exrate_sell': 0.9225, 'day_net_amount': -22.9623}]
 
        复制成功
```

**注意：**

**1.** 当 `start_date == end_date` 时，取离 `end_date` 最近公告日期的一条数据， 当 `start_date < end_date` 时，取指定时间段的数据， 当 `start_date > end_date` 时，返回报错。

**2.** count不能与start\_date同时使用，否则返回报错；与 end\_date 同时使用时，表示获取 end\_date 前 count 个交易日的数据(包含 end\_date 当日)；默认为 None ，不使用该字段。

## stk\_hk\_inst\_holding\_detail\_info - 查询沪深港通标的港股机构持股明细数据

查询沪深港通标的港股机构持股明细数据

**gm SDK 3.0.163 版本新增**

**交易所信息披露调整，数据最晚更新到2024.8.16，历史数据不受影响**

**函数原型：**

```python
stk_hk_inst_holding_detail_info(symbols=None, trade_date=None, df=False)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str | 股票代码 | N | None | 输入标的代码，可输入多个. 采用 str 格式时，多个标的代码必须用英文逗号分割，如：'SHSE.600008,SZSE.000002' 采用 list 格式时，多个标的代码示例：\['SHSE.600008', 'SZSE.000002'\] 默认None表示所有标的。 |
| trade\_date | str or datetime.date | 交易日期 | N | None | 交易日期，支持str格式（%Y-%m-%d 格式）和 datetime.date 格式，默认None表示最新交易日期。 |
| df | bool | 返回格式 | N | False | 是否返回 dataframe 格式 ， 默认 `False` 返回 list\[dict\],列表每项的dict的key值为参数指定的 fields 。 |

**返回值：**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| trade\_date | str | 最新交易日期 | 最新交易日期 |
| symbol | str | 证券代码 | 证券代码 |
| sec\_name | str | 证券简称 | 证券简称 |
| participant\_name | str | 参与者名称 | 参与者名称 |
| share\_holding | int | 持股量(股) | 持股量(股) |
| shares\_rate | float | 占已发行股份(%) | 占已发行股份(%) |

**示例：**

```python
stk_hk_inst_holding_detail_info(symbols='SHSE.600008', trade_date=None, df=False)
 
        复制成功
```

**输出：**

```python
[{'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': 'CREDIT SUISSE SECURITIES (HONG KONG) LTD', 'share_holding': 374905, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': 'J.P. MORGAN BROKING (HONG KONG) LTD', 'share_holding': 6445488, 'shares_rate': 0.08},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': 'JPMORGAN CHASE BANK, NATIONAL ASSOCIATION', 'share_holding': 19630045, 'shares_rate': 0.26},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': 'MLFE LTD', 'share_holding': 2134425, 'shares_rate': 0.02},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': 'MORGAN STANLEY HONG KONG SECURITIES LTD', 'share_holding': 2962125, 'shares_rate': 0.04},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': 'Societe Generale', 'share_holding': 176637, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': 'UBS SECURITIES HONG KONG LTD', 'share_holding': 2238651, 'shares_rate': 0.03},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '上银证券有限公司', 'share_holding': 132000, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '东亚证券有限公司', 'share_holding': 7000, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '中信证券经纪(香港)有限公司', 'share_holding': 22900, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '中信里昂证券有限公司', 'share_holding': 158790, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '中国国际金融香港证券有限公司', 'share_holding': 821082, 'shares_rate': 0.01},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '中国建设银行(亚洲)股份有限公司', 'share_holding': 10600, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '中国银行(香港)有限公司', 'share_holding': 219800, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '中银国际证券有限公司', 'share_holding': 49824935, 'shares_rate': 0.67},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '元大证券(香港)有限公司', 'share_holding': 60000, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '创兴证券有限公司', 'share_holding': 13000, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '华盛资本证券有限公司', 'share_holding': 27800, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '国信证券(香港)经纪有限公司', 'share_holding': 400, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '国泰君安证券(香港)有限公司', 'share_holding': 280600, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '大华继显(香港)有限公司', 'share_holding': 141800, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '宝生证券有限公司', 'share_holding': 655900, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '富途证券国际(香港)有限公司', 'share_holding': 77300, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '广发证券(香港)经纪有限公司', 'share_holding': 14000, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '恒生证券有限公司', 'share_holding': 179700, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '永丰金证券(亚洲)有限公司', 'share_holding': 52000, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '法国巴黎银行', 'share_holding': 4579831, 'shares_rate': 0.06},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '渣打银行(香港)有限公司', 'share_holding': 13222494, 'shares_rate': 0.18},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '盈透证券香港有限公司', 'share_holding': 47930, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '耀才证券国际(香港)有限公司', 'share_holding': 3000, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '花旗银行', 'share_holding': 11468541, 'shares_rate': 0.15},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '辉立证券(香港)有限公司', 'share_holding': 337500, 'shares_rate': 0.0},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '香港上海汇丰银行有限公司', 'share_holding': 10059735, 'shares_rate': 0.13},
 {'symbol': 'SHSE.600008', 'trade_date': '2024-01-25', 'sec_name': '首创环保', 'participant_name': '高盛(亚洲)证券有限公司', 'share_holding': 5938226, 'shares_rate': 0.08}]

 
        复制成功
```

**注意：**

**1.** 数据日频更新，在交易日约20点更新当日数据。如果当前交易日数据尚未更新，调用时不指定trade\_date会返回前一交易日的数据，调用时指定trade\_date为当前交易日会返回空。

**2.** trade\_date输入非交易日，会返回空。

## stk\_hk\_inst\_holding\_info - 查询沪深港通标的港股机构持股数据

查询沪深港通标的港股机构持股数据

**gm SDK 3.0.163 版本新增**

**交易所信息披露调整，数据最晚更新到2024.8.16，历史数据不受影响**

**函数原型：**

```python
stk_hk_inst_holding_info(symbols=None, trade_date=None, df=False)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str | 股票代码 | N | None | 输入标的代码，可输入多个. 采用 str 格式时，多个标的代码必须用英文逗号分割，如：'SHSE.600008,SZSE.000002' 采用 list 格式时，多个标的代码示例：\['SHSE.600008', 'SZSE.000002'\] 默认None表示所有标的。 |
| trade\_date | str or datetime.date | 交易日期 | N | None | 交易日期，支持str格式（%Y-%m-%d 格式）和 datetime.date 格式，默认None表示最新交易日期。 |
| df | bool | 返回格式 | N | False | 是否返回 dataframe 格式 ， 默认 `False` 返回 list\[dict\],列表每项的dict的key值为参数指定的 fields 。 |

**返回值：**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| trade\_date | str | 最新交易日期 | 最新交易日期 |
| symbol | str | 证券代码 | 证券代码 |
| sec\_name | str | 证券简称 | 证券简称 |
| participant\_name | str | 参与者名称 | 参与者名称 |
| cum\_share\_holding | int | 累计持股量(股) | 累计持股量(股) |
| cum\_shares\_rate | float | 累计占已发行股份(%) | 累计占已发行股份(%) |

**示例：**

```python
stk_hk_inst_holding_info(symbols='SHSE.600008,SZSE.000002', trade_date=None, df=False)
 
        复制成功
```

**输出：**

**注意：**

**1.** 数据日频更新，在交易日约20点更新当日数据。如果当前交易日数据尚未更新，调用时不指定trade\_date会返回前一交易日的数据，调用时指定trade\_date为当前交易日会返回空。

**2.** trade\_date输入非交易日，会返回空。

## stk\_active\_stock\_top10\_shszhk\_info - 查询沪深港通十大活跃成交股数据

查询沪深港通十大活跃成交股数据

**gm SDK 3.0.163 版本新增**

**函数原型：**

```python
stk_active_stock_top10_shszhk_info(types=None, trade_date=None, df=False)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| types | str or list | 类型 | N | None | 类型，可输入多个，采用 str 格式时，多个类型必须用英文逗号分割，如：'SZ,SHHK' 采用 list 格式时，多个标的代码示例：\['SZ', 'SHHK'\]，类型包括：SH - 沪股通 ，SHHK - 沪港股通 ，SZ - 深股通 ，SZHK - 深港股通，NF - 北向资金（沪股通+深股通），默认 None 为全部北向资金。 |
| trade\_date | str or datetime.date | 交易日期 | N | None | 交易日期，支持str格式（%Y-%m-%d 格式）和 datetime.date 格式，默认None表示最新交易日期。 |
| df | bool | 返回格式 | N | False | 是否返回 dataframe 格式 ， 默认 `False` 返回 list\[dict\],列表每项的dict的key值为参数指定的 fields 。 |

**返回值：**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| trade\_type | str | 类型 | SH - 沪股通 ，SHHK - 沪港股通 ，SZ - 深股通 ，SZHK - 深港股通，NF - 北向资金（沪股通+深股通） |
| trade\_date | str | 最新交易日期 |  |
| rank | int | 排名 |  |
| symbol | str | 代码 |  |
| sec\_name | str | 名称 |  |
| close | float | 收盘价格(元) |  |
| price\_range | float | 涨跌幅(%) |  |
| buy\_amount | float | 买入金额(万元) | （沪深港通）买入金额(万元) |
| buy\_volume | float | 卖出金额(万元) | （沪深港通）卖出金额(万元) |
| total\_amount | float | 成交金额(万元) | （沪深港通）成交金额(万元) |
| stock\_total\_amount | float | 股票成交金额(万元) | 股票成交金额(万元) |
| transaction\_rate | float | 成交占比(%) | （沪深港通）成交金额(万元)占股票成交金额(万元)的比例(%) |
| market\_value\_total | float | 总市值(亿元) |  |
| cum\_number\_of\_times | int | 累计上榜次数 | 股票进入每日十大活跃成交股的次数 |
| currency | str | 币种 | CNY(人民币), HKD(港元) |

**示例：**

```python
stk_active_stock_top10_shszhk_info(types='SZHK', trade_date=None, df=False)
 
        复制成功
```

**输出：**

```python
[{'symbol': 'HK.03690', 'trade_date': '2024-01-25', 'rank': 4, 'type': 'SZHK', 'sec_name': '美团-W', 'close': 69.4, 'price_range': -1.2802, 'buy_amount': 30656.8865, 'sell_amount': 28844.0799, 'total_amount': 59500.9664, 'stock_total_amount': 310032.2982, 'transaction_rate': 19.1919, 'market_value_total': 4333.9628, 'cum_number_of_times': 1996, 'currency': 'HKD'},
 {'symbol': 'HK.02318', 'trade_date': '2024-01-25', 'rank': 8, 'type': 'SZHK', 'sec_name': '中国平安', 'close': 34.6, 'price_range': 4.8485, 'buy_amount': 11403.6125, 'sell_amount': 10698.3075, 'total_amount': 22101.92, 'stock_total_amount': 296208.1587, 'transaction_rate': 7.4616, 'market_value_total': 6300.7412, 'cum_number_of_times': 790, 'currency': 'HKD'},
 {'symbol': 'HK.01810', 'trade_date': '2024-01-25', 'rank': 10, 'type': 'SZHK', 'sec_name': '小米集团-W', 'close': 13.74, 'price_range': 0.292, 'buy_amount': 6782.6328, 'sell_amount': 13975.542, 'total_amount': 20758.1748, 'stock_total_amount': 115367.6607, 'transaction_rate': 17.9931, 'market_value_total': 3445.2863, 'cum_number_of_times': 1246, 'currency': 'HKD'},
 {'symbol': 'HK.01797', 'trade_date': '2024-01-25', 'rank': 6, 'type': 'SZHK', 'sec_name': '东方甄选', 'close': 24.2, 'price_range': -8.3333, 'buy_amount': 21350.9475, 'sell_amount': 12630.7475, 'total_amount': 33981.695, 'stock_total_amount': 67946.4211, 'transaction_rate': 50.0125, 'market_value_total': 246.0016, 'cum_number_of_times': 348, 'currency': 'HKD'},
 {'symbol': 'HK.01024', 'trade_date': '2024-01-25', 'rank': 9, 'type': 'SZHK', 'sec_name': '快手-W', 'close': 44.6, 'price_range': -0.112, 'buy_amount': 14876.216, 'sell_amount': 6185.893, 'total_amount': 21062.109, 'stock_total_amount': 97141.6742, 'transaction_rate': 21.6818, 'market_value_total': 1948.6613, 'cum_number_of_times': 637, 'currency': 'HKD'},
 {'symbol': 'HK.00981', 'trade_date': '2024-01-25', 'rank': 7, 'type': 'SZHK', 'sec_name': '中芯国际', 'close': 16.04, 'price_range': 3.4839, 'buy_amount': 15796.551, 'sell_amount': 7910.155, 'total_amount': 23706.706, 'stock_total_amount': 74554.1682, 'transaction_rate': 31.798, 'market_value_total': 1274.6363, 'cum_number_of_times': 1533, 'currency': 'HKD'},
 {'symbol': 'HK.00941', 'trade_date': '2024-01-25', 'rank': 2, 'type': 'SZHK', 'sec_name': '中国移动', 'close': 67.65, 'price_range': 2.3449, 'buy_amount': 61646.64, 'sell_amount': 26017.6775, 'total_amount': 87664.3175, 'stock_total_amount': 248358.7732, 'transaction_rate': 35.2975, 'market_value_total': 14472.2173, 'cum_number_of_times': 1118, 'currency': 'HKD'},
 {'symbol': 'HK.00883', 'trade_date': '2024-01-25', 'rank': 3, 'type': 'SZHK', 'sec_name': '中国海洋石油', 'close': 14.44, 'price_range': 4.7896, 'buy_amount': 57442.304, 'sell_amount': 23673.3544, 'total_amount': 81115.6584, 'stock_total_amount': 269234.0355, 'transaction_rate': 30.1283, 'market_value_total': 6868.6407, 'cum_number_of_times': 1044, 'currency': 'HKD'},
 {'symbol': 'HK.00762', 'trade_date': '2024-01-25', 'rank': 5, 'type': 'SZHK', 'sec_name': '中国联通', 'close': 5.45, 'price_range': 4.6065, 'buy_amount': 21708.258, 'sell_amount': 12586.296, 'total_amount': 34294.554, 'stock_total_amount': 59194.3214, 'transaction_rate': 57.9355, 'market_value_total': 1667.5978, 'cum_number_of_times': 112, 'currency': 'HKD'},
 {'symbol': 'HK.00700', 'trade_date': '2024-01-25', 'rank': 1, 'type': 'SZHK', 'sec_name': '腾讯控股', 'close': 290.8, 'price_range': 3.1938, 'buy_amount': 31622.082, 'sell_amount': 76991.966, 'total_amount': 108614.048, 'stock_total_amount': 984146.2621, 'transaction_rate': 11.0364, 'market_value_total': 27487.5599, 'cum_number_of_times': 3613, 'currency': 'HKD'}]

 
        复制成功
```

**注意：**

**1.** 数据日频更新，在交易日约20点更新当日数据。如果当前交易日数据尚未更新，调用时不指定trade\_date会返回前一交易日的数据，调用时指定trade\_date为当前交易日会返回空。

**2.** trade\_date输入非交易日，会返回空。

## stk\_get\_money\_flow - 查询股票交易资金流向

查询股票每日交易的资金流向

**gm SDK 3.0.172 版本新增**

**函数原型：**

```python
stk_get_money_flow(symbols, trade_date=None)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str or list | 股票代码 | Y | 无 | 必填，可输入多个，使用时参考symbol. 采用 str 格式时，多个标的代码必须用英文逗号分割（逗号中间不能有空格），如：'SHSE.600008,SZSE.000002'; 采用 list 格式时，多个标的代码示例：\['SHSE.600008', 'SZSE.000002'\] |
| trade\_date | str | 交易日期 | N | None | 交易日期，支持str格式（%Y-%m-%d 格式），默认None表示最新交易日期。 |

**返回值：**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | 格式exchange.sec\_id（SHSE.600000, SZSE.000001） |
| trade\_date | str | 交易日期 |  |
| main\_in | float | 主力流入资金 | 超大单加大单买入成交额之和 |
| main\_out | float | 主力流出资金 | 超大单加大单卖出成交额之和 |
| main\_net\_in | float | 主力净流入资金 | 主力流入资金-主力流出资金 |
| main\_net\_in\_rate | float | 主力资金净流入率 | 主力净流入资金/主力总成交额 |
| super\_in | float | 超大单流入资金 | 大于等于50万股或者100万元的成交单买入成交额 |
| super\_out | float | 超大单流出资金 | 大于等于50万股或者100万元的成交单卖出成交额 |
| super\_net\_in | float | 超大单净流入资金 | 超大单流入资金-超大单流出资金 |
| super\_net\_in\_rate | float | 超大单净流入率 | 超大单净流入资金/超大单总成交额 |
| large\_in | float | 大单流入资金 | 大于等于10万股或者20万元且小于50万股和100万元的成交单买入成交额 |
| large\_out | float | 大单流出资金 | 大于等于10万股或者20万元且小于50万股和100万元的成交单卖出成交额 |
| large\_net\_in | float | 大单净流入资金 | 大单流入资金-大单流出资金 |
| large\_net\_in\_rate | float | 大单净流入率 | 大单净流入资金/大单总成交额 |
| mid\_in | float | 中单流入资金 | 大于等于2万股或者4万元且小于10万股和20万元的成交单买入成交额 |
| mid\_out | float | 中单流出资金 | 大于等于2万股或者4万元且小于10万股和20万元的成交单卖出成交额 |
| mid\_net\_in | float | 中单净流入资金 | 中单流入资金-中单流出资金 |
| mid\_net\_in\_rate | float | 中单净流入率 | 中单净流入资金/中单总成交额 |
| small\_in | float | 小单流入资金 | 小于2万股和4万元的成交单买入成交额 |
| small\_out | float | 小单流出资金 | 小于2万股和4万元的成交单卖出成交额 |
| small\_net\_in | float | 小单净流入资金 | 小单流入资金-小单流出资金 |
| small\_net\_in\_rate | float | 小单净流入率 | 小单净流入资金/小单总成交额 |

**示例：**

```python
stk_get_money_flow(symbols='SZSE.002583,SHSE.603955',trade_date='2024-11-20')
 
        复制成功
```

**输出：**

```python
symbol                 trade_date       main_in      main_out  \
0  SHSE.603955  2024-11-20T00:00:00+08:00   275694357.0   242070831.0   
1  SZSE.002583  2024-11-20T00:00:00+08:00  5505519712.0  6385983392.0   
   main_net_in  main_net_in_rate      super_in     super_out  super_net_in  \
0   33623526.0          5.248040   128754495.0   101308759.0    27445736.0   
1 -880463680.0         -7.440565  3101942544.0  3378101408.0  -276158864.0   
   super_net_in_rate      large_in     large_out  large_net_in  \
0           4.283796   146939862.0   140762072.0     6177790.0   
1          -2.333745  2403577168.0  3007881984.0  -604304816.0   
   large_net_in_rate        mid_in       mid_out   mid_net_in  \
0           0.964244   160360769.0   176158944.0  -15798175.0   
1          -5.106820  3212696272.0  3014466672.0  198229600.0   
   mid_net_in_rate      small_in     small_out  small_net_in  \
0        -2.465817   111742406.0   129567758.0   -17825352.0   
1         1.675186  2781545824.0  2099311744.0   682234080.0   
   small_net_in_rate  
0          -2.782223  
1           5.765379  

 
        复制成功
```

**注意：**

**1.** 日频资金流向有效数据从2010-01-04开始

**2.** 订单大小具体定义：https://finance.eastmoney.com/a/20110101117172217.html

## stk\_get\_finance\_audit - 查询财务审计意见

获取股票所属上市公司的定期财务审计意见数据

**gm SDK 3.0.172 版本新增**

**函数原型：**

```python
stk_get_finance_audit(symbols, date=None, rpt_date=None, df=False)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str or list | 股票代码 | Y | 无 | 必填，可输入多个，使用时参考symbol. 采用 str 格式时，多个标的代码必须用英文逗号分割（逗号中间不能有空格），如：'SHSE.600008,SZSE.000002'; 采用 list 格式时，多个标的代码示例：\['SHSE.600008', 'SZSE.000002'\] |
| date | str | 查询日期 | N | None | 查询时间，时间类型为最新公告日期，%Y-%m-%d 格式，默认None表示最新时间 |
| rpt\_date | str | 报告日期 | N | None | 报告截止日期，%Y-%m-%d 格式，可从三大财报接口返回的rpt\_date获取。例如：'2023-12-31'表示年报，'2024-03-31'表示一季报，'2024-06-30'表示半年报，'2024-09-30'表示前三季报, 默认None表示不限 |
| df | bool | 返回格式 | N | False | 是否返回dataframe格式， 默认False返回字典格式，返回 list\[dict\]， 列表每项的dict的key值为参数指定的 fields |

**返回值：df=True, 返回dataframe; df=False, 返回list\[dict\]**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | 格式exchange.sec\_id（SHSE.600000, SZSE.000001） |
| pub\_date | str | 最新公告日期 |  |
| first\_pub\_date | str | 首次公告日期 |  |
| rpt\_date | str | 报告日期 | 报告截止日期（报告期） |
| audit\_date | str | 审计日期 |  |
| acct\_standard | str | 会计准则 |  |
| acct\_agency | str | 会计师事务所名称 |  |
| cpa | str | 注册会计师 | 审计人员 |
| audit\_opinion | str | 审计意见 |  |
| audit\_opinion\_code | str | 审计意见类型代码 | 001:经审计, 001001:标准审计报告, 001001001:标准无保留意见, 001002:非标准审计报告, 001002001:带解释性说明的无保留意见, 001002002:保留意见, 001002003:否定意见, 001002004:无法表示意见, 001002005:带强调事项段的无保留意见, 002:未经审计 |
| audit\_opinion\_text | str | 审计意见正文 |  |
| audit\_no | str | 审计文号 |  |

**示例：**

```python
stk_get_finance_audit(symbols='SHSE.600000', date=None, rpt_date='2023-12-31', df=False)
 
        复制成功
```

**输出：**

```python
[{'symbol': 'SHSE.600000', 'pub_date': '2024-04-30T00:00:00+08:00', 'first_pub_date': '2024-04-30T00:00:00+08:00', 'rpt_date': '2023-12-31T00:00:00+08:00', 'audit_date': '2024-04-26T00:00:00+08:00', 'acct_standard': '大陆会计准则', 'acct_agency': '毕马威华振会计师事务所(特殊普通合伙)', 'cpa': '石海云、窦友明', 'audit_opinion': '标准无保留意见', 'audit_opinion_code': '001001001', 'audit_opinion_text': '一、审计意见我们审计了后附的第1页至第149页的上海浦东发展银行股份有限公司(以下简称“贵行”)及其子公司(统称“贵集团”)财务报表，包括2023年12月31日的合并资产负债表和资产负债表，2023年度的合并利润表和利润表、合并现金流量表和现金流量表、合并股东权益变动表和股东权益变动表以及相关财务报表附注。我们认为，后附的财务报表在所有重大方面按照中华人民共和国财政部颁布的企业会计准则(以下简称“企业会计准则”)的规定编制，公允反映了贵行2023年12月31日的合并财务状况和财务状况以及2023年度的合并经营成果和经营成果及合并现金流量和现金流量。二、形成审计意见的基础我们按照中国注册会计师审计准则(以下简称“审计准则”)的规定执行了审计工作。审计报告的“注册会计师对财务报表审计的责任”部分进一步阐述了我们在这些准则下的责任。按照中国注册会计师职业道德守则，我们独立于贵集团，并履行了职业道德方面的其他责任。我们相信，我们获取的审计证据是充分、适当的，为发表审计意见提供了基础。三、关键审计事项关键审计事项是我们根据职业判断，认为对本年财务报表审计最为重要的事项。这些事项的应对以对财务报表整体进行审计并形成审计意见为背景，我们不对这些事项单独发表意见。发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺的预期信用损失计量请参阅财务报表附注三第8.(6)项、附注五第6项、附注五第7.(b)项、附注五第15项、附注五第24项、附注十二第1.(1)项、附注十二第1.(3)项、附注十二第1.(4)项、附注十二第1.(5)项。关键审计事项发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺的预期信用损失计量涉及管理层主观判断。贵集团就预期信用损失计量建立了相关的内部控制。在审计中如何应对该事项与评价发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺的预期信用损失计量相关的审计程序中包括以下程序：了解和评价与发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺的预期信用损失计量相关的关键财务报告内部控制的设计和运行有效性：-了解和评价信用审批、记录、监控、定期信用等级重评、预期信用损失模型数据输入、预期信用损失计算等相关的关键财务报告内部控制的设计和运行有效性；特别地，我们评价与基于各级次发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺的信用质量而进行各金融工具阶段划分相关的关键财务报告内部控制的设计和运行有效性；-利用我们信息技术专家和金融风险管理专家的工作，了解和评价相关信息系统控制的设计和运行有效性，包括：系统的信息技术一般控制、关键内部历史数据的完整性、系统间数据传输、预期信用损失模型参数的映射，以及发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺预期信用损失的计算逻辑设置等；请参阅财务报表附注三第8.(6)项、附注五第6项、附注五第7.(b)项、附注五第15项、附注五第24项、附注十二第1.(1)项、附注十二第1.(3)项、附注十二第1.(4)项、附注十二第1.(5)项。关键审计事项贵集团通过评估发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺的信用风险自初始确认后是否显著增加，运用三阶段减值模型计量预期信用损失。对于发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺，管理层运用包含违约概率、违约损失率、违约风险敞口和折现率等关键参数的风险参数模型法评估损失准备。在审计中如何应对该事项利用我们金融风险管理专家的工作，评价贵集团评估预期信用损失时所用的预期信用损失模型和参数的可靠性，审慎评价违约概率、违约损失率、违约风险暴露、折现率、前瞻性调整及其他调整等，以及其中所涉及的关键管理层判断的合理性；评价预期信用损失模型使用的关键数据的完整性和准确性。针对与业务原始档案相关的关键内部数据，我们将管理层用以评估减值准备的发放贷款和垫款、金融资产中债权投资、财务担保合同和贷款承诺清单总额分别与总账进行比较，以评价清单的完整性。我们选取样本，将单项贷款、金融投资中债权投资或财务担保合同和贷款承诺的信息与相关协议以及其他有关文件进行比较，以评价清单的准确性；针对关键外部数据，我们将其与公开信息来源进行核对，以评价其准确性；评价涉及主观判断的输入参数，包括从外部寻求支持证据，比对历史损失经验及担保方式等内部记录。作为上述程序的一部分，我们还询问了管理层对关键假设和输入参数所做调整的理由，并考虑管理层所运用的判断是否一致；请参阅财务报表附注三第8.(6)项、附注五第6项、附注五第7.(b)项、附注五第15项、附注五第24项、附注十二第1.(1)项、附注十二第1.(3)项、附注十二第1.(4)项、附注十二第1.(5)项。关键审计事项预期信用损失计量模型所包含的重大管理层判断和假设主要包括：(1)将具有类似信用风险特征的业务划入同一个组合，选择恰当的计量模型，并确定计量相关的关键参数；(2)信用风险显著增加、违约和已发生信用减值的判断标准；(3)用于前瞻性计量的经济指标、经济情景及其权重的采用。在审计中如何应对该事项将管理层在上年计量预期信用损失时采用的经济指标估计与本年实际情况进行比较，以评价是否存在管理层偏向的迹象；针对需由系统运算生成的关键内部数据，我们选取样本将系统运算使用的输入数据核对至业务原始档案以评价系统输入数据的准确性。此外，利用我们信息技术专家的工作，选取样本，测试了发放贷款和垫款逾期信息的编制逻辑；选取样本，评价管理层对信用风险自初始确认后是否显著增加的判断以及是否已发生信用减值的判断的合理性。我们按照行业分类对公司类发放贷款和垫款以及金融投资中债权投资进行分析，选取样本时考虑选取受目前行业周期及调控政策影响较大的行业，关注高风险领域的贷款以及债权投资，并选取已发生信用减值的贷款以及债权投资、逾期未发生信用减值的贷款以及债权投资、信用风险显著上升的贷款以及债权投资、存在负面预警信号、负面媒体消息等其他风险因素的借款人为信贷审阅的样本。我们在选取样本的基础上查看业务文档、检查逾期信息、向客户经理询问借款人的经营状况、检查借款人的财务信息以及搜寻有关借款人业务和经营的市场信息等；请参阅财务报表附注三第8.(6)项、附注五第6项、附注五第7.(b)项、附注五第15项、附注五第24项、附注十二第1.(1)项、附注十二第1.(3)项、附注十二第1.(4)项、附注十二第1.(5)项。关键审计事项由于发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺的预期信用损失计量存在固有不确定性以及涉及管理层判断，同时对贵集团的经营状况和资本状况会产生重要影响，我们将发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺的预期信用损失计量识别为关键审计事项。在审计中如何应对该事项对选取的已发生信用减值的公司类发放贷款和垫款以及金融投资中债权投资执行信贷审阅时，根据所属分组评估损失率计算模型，或通过询问、运用职业判断和独立查询等方法，评价其预计可收回的现金流。我们还评价担保物的变现时间和方式并考虑管理层提供的其他还款来源。评价管理层对关键假设使用的一致性，并将其与我们的数据来源进行比较；选取样本，复核对预期信用损失的计算，以评价贵集团对预期信用损失模型的应用；根据相关会计准则，评价发放贷款和垫款、金融投资中债权投资、财务担保合同和贷款承诺的财务报表信息披露的合理性。结构化主体的合并请参阅财务报表附注三第4项以及附注七。关键审计事项结构化主体通常是为实现具体而明确的目的而设计并成立的，并在确定的范围内开展业务活动。贵集团可能通过发起设立、持有投资或保留权益份额等方式在结构化主体中享有权益。这些结构化主体主要包括理财产品、资产支持证券、信托计划、资产管理计划或证券投资基金。当判断贵集团是否应该将结构化主体纳入贵集团合并范围时，管理层应考虑贵集团所承担的风险和享有的报酬，贵集团对结构化主体相关活动拥有的权力，以及通过运用该权力而影响其可变回报的能力。这些因素并非完全可量化的，需要综合考虑整体交易的实质内容。由于涉及部分结构化主体的交易较为复杂，并且贵集团在对每个结构化主体的条款及交易实质进行定性评估时需要作出判断，我们将结构化主体的合并识别为关键审计事项。在审计中如何应对该事项与评价结构化主体的合并相关的审计程序中包括以下程序：通过询问管理层和检查与管理层对结构化主体是否合并作出的判断过程相关的文件，以评价贵集团就此设立的流程是否完备；选取样本，对结构化主体执行了下列审计程序：-检查相关合同、内部设立文件以及向投资者披露的信息，以理解结构化主体的设立目的以及贵集团对结构化主体的参与程度，并评价管理层关于贵集团对结构化主体是否拥有权力的判断；-检查结构化主体对风险与报酬的结构设计，包括在结构化主体中拥有的任何资本或对其收益作出的担保、提供流动性支持的安排、佣金的支付和收益的分配等，以评价管理层就贵集团因参与结构化主体的相关活动而拥有的对结构化主体的风险敞口、权力及对可变回报的影响所作的判断；选取样本，对结构化主体执行了下列审计程序(续)：-检查管理层对结构化主体的分析，包括定性分析，以及贵集团对享有结构化主体的经济利益的比重和可变动性的计算，以评价管理层关于贵集团影响其来自结构化主体可变回报的能力判断；-评价管理层就是否合并结构化主体所作的判断；评价财务报表中对结构化主体的相关披露是否符合企业会计准则的披露要求。金融工具公允价值的评估请参阅财务报表附注三第8项、附注三第23项、附注三第34项所述的会计政策以及附注十二第4项。关键审计事项以公允价值计量的金融工具是贵集团持有/承担的重要资产/负债。公允价值调整可能影响损益或其他综合收益。贵集团以公允价值计量的金融工具的估值以市场数据和估值模型为基础，其中估值模型通常需要大量的参数输入。大部分参数来源于能够可靠获取的数据，尤其是第一层次和第二层次公允价值计量的金融工具，其估值模型采用的参数分别是市场报价和可观察参数。当可观察的参数无法可靠获取时，即第三层次公允价值计量的金融工具的情形下，不可观察输入值的确定会使用到管理层估计，这当中会涉及管理层的重大判断。此外，贵集团已对特定的第二层次及第三层次公允价值计量的金融工具开发了自有估值模型，这也会涉及管理层的重大判断。由于金融工具公允价值的评估涉及复杂的流程，以及在确定估值模型使用的参数时涉及管理层判断的程度，我们将金融工具公允价值的评估识别为关键审计事项。在审计中如何应对该事项与评价金融工具的公允价值相关的审计程序中包括以下程序：了解和评价贵集团与估值、独立价格验证、前后台对账及金融工具估值模型审批相关的关键财务报告内部控制的设计和运行有效性；选取样本，通过比较贵集团采用的公允价值与公开可获取的市场数据，评价第一层次公允价值计量的金融工具的估值；利用我们的金融风险管理专家的工作，在选取样本的基础上对第二层次和第三层次公允价值计量的金融工具进行独立估值，并将我们的估值结果与贵集团的估值结果进行比较。上述程序具体包括将贵行的估值模型与我们了解的行业通行估值方法进行比较，测试公允价值计算的输入值，以及建立平行估值模型进行重估；在评价对构成公允价值组成部分的公允价值调整的运用是否适当时，询问管理层计算公允价值调整的方法是否发生变化，并评价参数运用的恰当性；评价财务报表的相关披露，是否符合企业会计准则的披露要求，恰当反映了金融工具估值风险。四、其他信息贵行管理层对其他信息负责。其他信息包括贵行2023年年度报告中涵盖的信息，但不包括财务报表和我们的审计报告。我们对财务报表发表的审计意见不涵盖其他信息，我们也不对其他信息发表任何形式的鉴证结论。结合我们对财务报表的审计，我们的责任是阅读其他信息，在此过程中，考虑其他信息是否与财务报表或我们在审计过程中了解到的情况存在重大不一致或者似乎存在重大错报。基于我们已经执行的工作，如果我们确定其他信息存在重大错报，我们应当报告该事实。在这方面，我们无任何事项需要报告。五、管理层和治理层对财务报表的责任管理层负责按照企业会计准则的规定编制财务报表，使其实现公允反映，并设计、执行和维护必要的内部控制，以使财务报表不存在由于舞弊或错误导致的重大错报。在编制财务报表时，管理层负责评估贵集团及贵行的持续经营能力，披露与持续经营相关的事项(如适用)，并运用持续经营假设，除非贵集团及贵行计划进行清算、终止运营或别无其他现实的选择。治理层负责监督贵集团的财务报告过程。六、注册会计师对财务报表审计的责任我们的目标是对财务报表整体是否不存在由于舞弊或错误导致的重大错报获取合理保证，并出具包含审计意见的审计报告。合理保证是高水平的保证，但并不能保证按照审计准则执行的审计在某一重大错报存在时总能发现。错报可能由于舞弊或错误导致，如果合理预期错报单独或汇总起来可能影响财务报表使用者依据财务报表作出的经济决策，则通常认为错报是重大的。在按照审计准则执行审计工作的过程中，我们运用职业判断，并保持职业怀疑。同时，我们也执行以下工作：(1)识别和评估由于舞弊或错误导致的财务报表重大错报风险，设计和实施审计程序以应对这些风险，并获取充分、适当的审计证据，作为发表审计意见的基础。由于舞弊可能涉及串通、伪造、故意遗漏、虚假陈述或凌驾于内部控制之上，未能发现由于舞弊导致的重大错报的风险高于未能发现由于错误导致的重大错报的风险。(2)了解与审计相关的内部控制，以设计恰当的审计程序。(3)评价管理层选用会计政策的恰当性和作出会计估计及相关披露的合理性。(4)对管理层使用持续经营假设的恰当性得出结论。同时，根据获取的审计证据，就可能导致对贵集团及贵行持续经营能力产生重大疑虑的事项或情况是否存在重大不确定性得出结论。如果我们得出结论认为存在重大不确定性，审计准则要求我们在审计报告中提请报表使用者注意财务报表中的相关披露；如果披露不充分，我们应当发表非无保留意见。我们的结论基于截至审计报告日可获得的信息。然而，未来的事项或情况可能导致贵集团及贵行不能持续经营。(5)评价财务报表的总体列报(包括披露)、结构和内容，并评价财务报表是否公允反映相关交易和事项。(6)就贵集团中实体或业务活动的财务信息获取充分、适当的审计证据，以对财务报表发表审计意见。我们负责指导、监督和执行集团审计，并对审计意见承担全部责任。我们与治理层就计划的审计范围、时间安排和重大审计发现等事项进行沟通，包括沟通我们在审计中识别出的值得关注的内部控制缺陷。我们还就已遵守与独立性相关的职业道德要求向治理层提供声明，并与治理层沟通可能被合理认为影响我们独立性的所有关系和其他事项，以及相关的防范措施(如适用)。从与治理层沟通过的事项中，我们确定哪些事项对本年财务报表审计最为重要，因而构成关键审计事项。我们在审计报告中描述这些事项，除非法律法规禁止公开披露这些事项，或在极少数情形下，如果合理预期在审计报告中沟通某事项造成的负面后果超过在公众利益方面产生的益处，我们确定不应在审计报告中沟通该事项。', 'audit_no': '毕马威华振审字第2407993号'}]

 
        复制成功
```

**注意：**

**1.** 为避免未来数据，指定查询日期date后，返回最新公告日期小于等于查询日期下的指定报告日期数据。如果指定报告日期的财务审计意见尚未公告，返回空数据。

## stk\_get\_finance\_forecast - 查询公司业绩预告

获取股票所属上市公司的业绩预告数据

**gm SDK 3.0.172 版本新增**

**函数原型：**

```python
stk_get_finance_forecast(symbols, rpt_type=None, date=None, df=False)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str or list | 股票代码 | Y | 无 | 必填，可输入多个，使用时参考symbol. 采用 str 格式时，多个标的代码必须用英文逗号分割（逗号中间不能有空格），如：'SHSE.600008,SZSE.000002'; 采用 list 格式时，多个标的代码示例：\['SHSE.600008', 'SZSE.000002'\] |
| date | str | 查询日期 | N | None | 查询时间，时间类型为最新公告日期，%Y-%m-%d 格式，默认None表示最新时间 |
| rpt\_type | str | 预测报表类型 | N | None | 按报告期查询可指定以下报表类型：1-一季度报，6-中报，9-前三季报，12-年报，默认None为不限 |
| df | bool | 返回格式 | N | False | 是否返回dataframe格式， 默认False返回字典格式，返回 list\[dict\]， 列表每项的dict的key值为参数指定的 fields |

**返回值：df=True, 返回dataframe; df=False, 返回list\[dict\]**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 股票代码 | 格式exchange.sec\_id（SHSE.600000, SZSE.000001） |
| pub\_date | str | 最新公告日期 |  |
| begin\_date | str | 预测起始日 |  |
| end\_date | str | 预测截止日 |  |
| rpt\_type | str | 预测报表类型 |  |
| fcst\_type | str | 业绩预告类型 | 001001 预增，001002 略增，001003 略减，001004 预减，001005 续盈，001006 首亏，002 不确定，003001 扭亏，003002 续亏，003003 减亏，003004 增亏 |
| fcst\_field | str | 预测财务指标 | 001 主营业务收入，002 净利润 net\_prof，003 每股收益 eps\_basic，004 归属于上市公司股东的净利润 net\_prof\_pcom，005 扣除非经常性损益后的净利润 net\_prof\_pcom\_cut，006 营业收入 inc\_oper，007 非经常性损益 nr\_prof\_loss，008 扣除后营业收入 |
| fcst\_amount\_max | float | 预测金额元(上限) | 单位：元 |
| fcst\_amount\_min | float | 预测金额元(下限) | 单位：元 |
| amount\_ly | float | 上年同期元 | 单位：元 |
| increase\_pct\_max | float | 增长幅度(上限) | 单位：% |
| increase\_pct\_min | float | 增长幅度(下限) | 单位：% |
| fcst\_content | str | 财务指标预告内容 |  |
| ann\_fcst\_amount\_unit | str | 公告预测金融单位 |  |
| ann\_fcst\_amount\_max | float | 公告原始预测金额(上限) | 单位：公告预测金融单位 |
| ann\_fcst\_amount\_min | float | 公告原始预测金额(下限) | 单位：公告预测金融单位 |
| ann\_amount\_ly | float | 上年原始同期 | 单位：公告预测金融单位 |
| ann\_increase\_max | float | 公告增长金额(上限) | 单位：公告预测金融单位 |
| ann\_increase\_min | float | 公告增长金额(下限) | 单位：公告预测金融单位 |
| is\_change | bool | 是否变脸 | 0-否 1-是 |
| change\_reason | str | 业绩变动原因说明 |  |

**示例：**

```python
stk_get_finance_forecast(symbols='SHSE.600000,SZSE.000001', rpt_type=None, date=None, df=False)
 
        复制成功
```

**输出：**

```python
[{'symbol': 'SHSE.600000', 'pub_date': '2008-10-30T00:00:00+08:00', 'begin_date': '2008-01-01T00:00:00+08:00', 'end_date': '2008-12-31T00:00:00+08:00', 'rpt_type': '12', 'fcst_type': '预增', 'fcst_field': '归属于上市公司股东的净利润', 'fcst_content': '预计与上年同期相比发生大幅度变动。', 'fcst_amount_max': 0.0, 'fcst_amount_min': 0.0, 'amount_ly': 0.0, 'increase_pct_max': 0.0, 'increase_pct_min': 0.0, 'ann_fcst_amount_unit': '', 'ann_fcst_amount_max': 0.0, 'ann_fcst_amount_min': 0.0, 'ann_amount_ly': 0.0, 'ann_increase_max': 0.0, 'ann_increase_min': 0.0, 'is_change': False, 'change_reason': ''},
 {'symbol': 'SZSE.000001', 'pub_date': '2016-01-21T00:00:00+08:00', 'begin_date': '2015-01-01T00:00:00+08:00', 'end_date': '2015-12-31T00:00:00+08:00', 'rpt_type': '12', 'fcst_type': '略增', 'fcst_field': '归属于上市公司股东的净利润', 'fcst_amount_max': 22772250000.0, 'fcst_amount_min': 20792060000.0, 'increase_pct_max': 15.0, 'increase_pct_min': 5.0, 'fcst_content': '预计2015年1-12月归属于上市公司股东的净利润:2,079,206-2,277,225万元,同比上年上升:5%-15%', 'change_reason': '业绩增长的主要原因是资产规模的稳定增长、 息差改善以及成本有效控制。', 'amount_ly': 0.0, 'ann_fcst_amount_unit': '', 'ann_fcst_amount_max': 0.0, 'ann_fcst_amount_min': 0.0, 'ann_amount_ly': 0.0, 'ann_increase_max': 0.0, 'ann_increase_min': 0.0, 'is_change': False},
 {'symbol': 'SZSE.000001', 'pub_date': '2016-01-21T00:00:00+08:00', 'begin_date': '2015-01-01T00:00:00+08:00', 'end_date': '2015-12-31T00:00:00+08:00', 'rpt_type': '12', 'fcst_type': '略增', 'fcst_field': '每股收益', 'fcst_amount_max': 1.62, 'fcst_amount_min': 1.48, 'fcst_content': '预计2015年1-12月每股收益:1.48-1.62元', 'change_reason': '业绩增长的主要原因是资产规模的稳定增长、 息差改善以及成本有效控制。', 'amount_ly': 0.0, 'increase_pct_max': 0.0, 'increase_pct_min': 0.0, 'ann_fcst_amount_unit': '', 'ann_fcst_amount_max': 0.0, 'ann_fcst_amount_min': 0.0, 'ann_amount_ly': 0.0, 'ann_increase_max': 0.0, 'ann_increase_min': 0.0, 'is_change': False}]

 
        复制成功
```

**注意：**

**1.** 为避免未来数据，指定查询日期date后，返回公告日期小于等于查询日期下的最新报告期数据。

## get\_open\_call\_auction - 查询集合竞价开盘成交

查询股票开盘成交数据

**gm SDK 3.0.176 版本新增**

**函数原型：**

```python
get_open_call_auction (symbols, trade_date=None)
 
        复制成功
```

**参数：**

| 参数名 | 类型 | 中文名称 | 必填 | 默认值 | 参数用法说明 |
| --- | --- | --- | --- | --- | --- |
| symbols | str or list | 股票代码 | Y | 无 | 必填，可输入多个，使用时参考symbol. 采用 str 格式时，多个标的代码必须用英文逗号分割（逗号中间不能有空格），如：'SHSE.600008,SZSE.000002'; 采用 list 格式时，多个标的代码示例：\['SHSE.600008', 'SZSE.000002'\] |
| trade\_date | str | 交易日期 | N | None | 交易日期，YYYY-MM-DD 格式，默认None返回最新交易日 |

**返回值：返回dataframe**

| 字段名 | 类型 | 中文名称 | 说明 |
| --- | --- | --- | --- |
| symbol | str | 标的代码 | 格式exchange.sec\_id（SHSE.600000, SZSE.000001） |
| time | str | 开盘集合竞价撮合时间 | 交易日09:25，%Y-%m-%d %H:%M:%S 格式 |
| current\_price | float | 当前最新价（不复权） | 09:15~09:25开盘前竞价，在09:25一次性集中撮合产生的最新成交价Tick.price，即开盘价 |
| open\_volume | int | 开盘成交量（股） | 09:15~09:25开盘前竞价，在09:25一次性集中撮合产生的累计成交量Tick.cum\_volume |
| open\_amount | float | 开盘成交额（元） | 09:15~09:25开盘前竞价，在09:25一次性集中撮合产生的累计成交额Tick.cum\_amount |
| ask\_v1~ask\_v5 | float | 五档卖量 | 09:25五档卖量Tick.quotes\[0\].ask\_v~Tick.quotes\[4\].ask\_v。 |
| ask\_p1~ask\_p5 | float | 五档卖价 | 09:25五档卖价Tick.quotes\[0\].ask\_p~Tick.quotes\[4\].ask\_p。 |
| bid\_v1~bid\_v5 | float | 五档买量 | 09:25五档买量Tick.quotes\[0\].bid\_v~Tick.quotes\[4\].bid\_v。 |
| bid\_p1~bid\_p5 | float | 五档买价 | 09:25五档买价Tick.quotes\[0\].bid\_p~Tick.quotes\[4\].bid\_p。 |

**示例：**

```python
get_open_call_auction(symbols='SHSE.600000, SZSE.000001', trade_date='2025-03-27')
 
        复制成功
```

**输出：**

```python
symbol                 time  current_price  open_volume  open_amount  \
0  SHSE.600000  2025-03-27 09:25:00    10.50000000       122600    1287300.0   
1  SZSE.000001  2025-03-27 09:25:00    11.36999989       296000    3365520.0   
   ask_v1  ask_v2  ask_v3  ask_v4  ask_v5       ask_p1       ask_p2  \
0     980   15800   21500   16000    6000  10.50000000  10.51000023   
1   91100  580821  951900  462900  764400  11.38000011  11.39000034   
        ask_p3       ask_p4       ask_p5  bid_v1  bid_v2  bid_v3  bid_v4  \
0  10.52000046  10.52999973  10.53999996    1400     900   15400     700   
1  11.39999962  11.40999985  11.42000008  198300  320700  645500  451000   
   bid_v5       bid_p1       bid_p2       bid_p3       bid_p4       bid_p5  
0   27700  10.48999977  10.47999954  10.47000027  10.46000004  10.44999981  
1  391400  11.36999989  11.35999966  11.35000038  11.34000015  11.32999992 
 
        复制成功
```

**注意：**

**1.** 开盘集合竞价的成交数据于每个交易日09:26更新，09:26后可查询当天开盘集合竞价，在09:26前查询当天开盘集合竞价返回空。

**2.** 如果输入symbols包含不存在的标的代码，会报错。

**3.** 如果开盘集合竞价没有发生成交，curret\_price, open\_volume, open\_amount返回0.

**4.** 数据最早为2025-02-21。

---